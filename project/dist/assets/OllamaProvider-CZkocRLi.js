var t=Object.defineProperty,e=(e,a,r)=>((e,a,r)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r)(e,"symbol"!=typeof a?a+"":a,r);import{p as a}from"./AgentAuthGuard-BSe8gvOH.js";import"./supabase-BhLMWRjL.js";import"./index-CIzmM8sf.js";import"./react-vendor-eVk5PToZ.js";import"./router-Bf3h2-TO.js";import"./icons-CrFATGyQ.js";import"./ui-vendor-BqqUpcLC.js";class r{constructor(){e(this,"id","ollama"),e(this,"name","Ollama (Local)"),e(this,"baseUrl"),e(this,"defaultModel"),this.baseUrl="http://localhost:11434",this.defaultModel="llama3"}async isAvailable(){try{return(await fetch(`${this.baseUrl}/api/tags`,{method:"GET",headers:{"Content-Type":"application/json"}})).ok}catch(t){return!1}}async generate(t){const e={model:t.model||this.defaultModel,messages:t.messages.map(t=>({role:"assistant"===t.role?"assistant":"user",content:t.content})),options:{temperature:t.temperature??.7,num_predict:t.maxTokens??1024,top_p:t.topP??.9},stream:!1};try{const t=await fetch(`${this.baseUrl}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.text();throw new Error(`Ollama error: ${t.status} ${e}`)}const a=await t.json();return a.message?.content||""}catch(a){throw new Error(`Failed to generate response: ${a instanceof Error?a.message:"Unknown error"}`)}}}const s=new r;a.register(s);export{r as OllamaProvider};
