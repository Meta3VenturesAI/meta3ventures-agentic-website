var e=Object.defineProperty,t=(t,s,a)=>((t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a)(t,"symbol"!=typeof s?s+"":s,a);import{j as s,u as a,S as i}from"./index-CIzmM8sf.js";import{r,b as n}from"./router-Bf3h2-TO.js";import{d as l}from"./data-storage.service-Ckam529i.js";import{B as o,b as c,a as d,c as m,d as g,A as p}from"./AgentAuthGuard-BSe8gvOH.js";import{z as u}from"./ui-vendor-BqqUpcLC.js";import{a7 as h,l as x,r as y,a8 as f,D as b,v,Z as j,p as w,B as N,a6 as k,ac as S,ad as A,Q as C,ae as M,af as T,U as I,ag as D,C as R,X as P,a5 as L,f as $,T as _,x as E,ah as F,g as O,ai as z,G as U,aj as q,ak as B,Y as V,al as H,am as G,an as W,_ as K,ao as J,ap as Q,aq as Y,ar as X,K as Z,q as ee,i as te,w as se,as as ae,at as ie,au as re,av as ne,n as le,aw as oe,s as ce,ax as de,E as me,S as ge,ay as pe,a2 as ue,az as he,aA as xe,c as ye,b as fe,aB as be,aC as ve,aD as je,m as we,o as Ne,H as ke,M as Se}from"./icons-CrFATGyQ.js";import"./react-vendor-eVk5PToZ.js";import"./supabase-BhLMWRjL.js";import"./supabase-gsyK_hHB.js";const Ae=class e{constructor(){t(this,"preConfiguredModels",[{id:"llama-3.1-70b-versatile",name:"Llama 3.1 70B (Groq)",provider:"groq",modelId:"llama-3.1-70b-versatile",contextLength:32768,strengths:["General conversation","Reasoning","Analysis"],useCase:"general",speed:"fast",quality:"high",requiresApiKey:!0,free:!0},{id:"llama-3.1-8b-instant",name:"Llama 3.1 8B (Groq)",provider:"groq",modelId:"llama-3.1-8b-instant",contextLength:8192,strengths:["Fast responses","General chat","Quick analysis"],useCase:"general",speed:"fast",quality:"good",requiresApiKey:!0,free:!0},{id:"mixtral-8x7b-32768",name:"Mixtral 8x7B (Groq)",provider:"groq",modelId:"mixtral-8x7b-32768",contextLength:32768,strengths:["Multilingual","Complex reasoning","Long context"],useCase:"reasoning",speed:"fast",quality:"high",requiresApiKey:!0,free:!0},{id:"microsoft-dialoGPT-large",name:"DialoGPT Large",provider:"huggingface",modelId:"microsoft/DialoGPT-large",contextLength:1024,strengths:["Conversational","Natural dialogue","Personality"],useCase:"general",speed:"medium",quality:"good",requiresApiKey:!1,free:!0},{id:"google-flan-t5-large",name:"FLAN-T5 Large",provider:"huggingface",modelId:"google/flan-t5-large",contextLength:512,strengths:["Instruction following","Q&A","Summarization"],useCase:"analysis",speed:"medium",quality:"good",requiresApiKey:!1,free:!0},{id:"llama3.2-3b",name:"Llama 3.2 3B (Ollama)",provider:"ollama",modelId:"llama3.2:3b",contextLength:8192,strengths:["Local processing","Privacy","Fast inference"],useCase:"general",speed:"fast",quality:"good",requiresApiKey:!1,free:!0},{id:"mistral-7b",name:"Mistral 7B (Ollama)",provider:"ollama",modelId:"mistral:7b",contextLength:8192,strengths:["Instruction following","Reasoning","Coding"],useCase:"coding",speed:"medium",quality:"high",requiresApiKey:!1,free:!0},{id:"codellama-7b",name:"Code Llama 7B (Ollama)",provider:"ollama",modelId:"codellama:7b",contextLength:4096,strengths:["Code generation","Code analysis","Programming help"],useCase:"coding",speed:"medium",quality:"high",requiresApiKey:!1,free:!0}])}static getInstance(){return e.instance||(e.instance=new e),e.instance}getAvailableModels(){return this.preConfiguredModels}getModelsByProvider(e){return this.preConfiguredModels.filter(t=>t.provider===e)}getModelsByUseCase(e){return this.preConfiguredModels.filter(t=>t.useCase===e)}getFreeModels(){return this.preConfiguredModels.filter(e=>e.free)}getModelsWithoutApiKey(){return this.preConfiguredModels.filter(e=>!e.requiresApiKey)}getRecommendedModel(e="general"){const t=this.getModelsByUseCase(e);if(0===t.length)return this.getModelsByUseCase("general")[0]||this.preConfiguredModels[0];return t.sort((e,t)=>{if(e.free!==t.free)return e.free?-1:1;if(e.speed!==t.speed){const s={fast:0,medium:1,slow:2};return s[e.speed]-s[t.speed]}if(e.quality!==t.quality){const s={high:0,good:1,medium:2};return s[e.quality]-s[t.quality]}return 0})[0]}getModelById(e){return this.preConfiguredModels.find(t=>t.id===e)||null}getOptimizedSettings(e){const t=this.getModelById(e);if(!t)return{temperature:.7,maxTokens:1e3,topP:.9};const s={temperature:.7,maxTokens:Math.min(1e3,Math.floor(.3*t.contextLength)),topP:.9};switch(t.useCase){case"coding":s.temperature=.3,s.topP=.8;break;case"reasoning":s.temperature=.5,s.maxTokens=Math.min(1500,Math.floor(.4*t.contextLength));break;case"creative":s.temperature=.9,s.topP=.95;break;case"analysis":s.temperature=.4,s.maxTokens=Math.min(2e3,Math.floor(.5*t.contextLength))}return s}getSetupInstructions(e){const t=this.getModelById(e);if(!t)return{provider:"unknown",instructions:["Model not found"]};switch(t.provider){case"groq":return{provider:"Groq",instructions:["1. Sign up for free Groq account at console.groq.com","2. Generate API key in dashboard","3. Add to Netlify environment variables","4. Test connection in admin panel"],environmentVars:["VITE_GROQ_API_KEY"],testCommand:"Test LLM Provider: Groq"};case"huggingface":return{provider:"Hugging Face",instructions:["1. Create account at huggingface.co (optional for some models)","2. Generate API token in settings (if needed)","3. Add to environment variables","4. Test connection"],environmentVars:["VITE_HUGGINGFACE_API_KEY"],testCommand:"Test LLM Provider: Hugging Face"};case"ollama":return{provider:"Ollama",instructions:["1. Install Ollama locally: curl -fsSL https://ollama.ai/install.sh | sh","2. Start Ollama server: ollama serve",`3. Pull model: ollama pull ${t.modelId}`,"4. Configure CORS: OLLAMA_ORIGINS=* ollama serve","5. Set Netlify environment variable for production"],environmentVars:["OLLAMA_URL"],testCommand:"Test LLM Provider: Ollama"};default:return{provider:t.provider,instructions:["Setup instructions not available for this provider"]}}}};t(Ae,"instance");const Ce=Ae.getInstance();class Me extends o{constructor(e){super({id:e.id,name:e.name,description:e.description,specialties:e.specialties,tools:e.tools,canHandle:t=>{const s=t.toLowerCase();return e.triggerKeywords.some(e=>s.includes(e.toLowerCase()))},priority:e.priority},{preferredModel:"llama3.2:3b",preferredProvider:"ollama",enableLLM:!0}),t(this,"template"),t(this,"availableTools"),this.template=e,this.availableTools=c.getToolsForAgent(e.id)}async processMessage(e,t){try{if(this.template.playbook&&this.shouldUsePlaybook(e))return await this.executePlaybook(e,t);if(this.enableLLM){const s=await this.generateLLMResponseWithTools(e,t);return this.createResponse(s.content,this.capabilities.id,{confidence:s.confidence,processingTime:s.processingTime,toolsUsed:s.toolsUsed})}return this.createResponse(this.getFallbackResponse(e).content,this.capabilities.id)}catch(s){return this.createResponse(this.getFallbackResponse(e).content,this.capabilities.id,{error:s instanceof Error?s.message:"Processing failed"})}}analyzeRequest(e){const t=e.toLowerCase();let s=0;for(const a of this.template.triggerKeywords)t.includes(a.toLowerCase())&&(s+=20);for(const a of this.template.specialties)t.includes(a.toLowerCase())&&(s+=15);return{content:s>30?"I can help with that!":"Let me see what I can do.",confidence:Math.min(s,100),agentId:this.template.id,timestamp:new Date}}getFallbackResponse(e){const t=[`As a ${this.template.name.toLowerCase()}, I specialize in ${this.template.specialties.join(", ")}. How can I help you with that?`,`I'm here to assist with ${this.template.specialties.slice(0,3).join(", ")}. What would you like to know?`,`My expertise includes ${this.template.specialties.join(", ")}. What specific area would you like help with?`];return{content:t[Math.floor(Math.random()*t.length)],confidence:70,agentId:this.template.id,timestamp:new Date}}async generateLLMResponseWithTools(e,t){const s=this.availableTools.map(e=>`- ${e.name}: ${e.description}`).join("\n"),a=`${this.template.systemPrompt}\n\nAvailable Tools:\n${s}\n\nWhen you need to use a tool, indicate it in your response with [TOOL:tool-id:parameters].\nFor example: [TOOL:market-analysis:{"industry":"fintech","region":"US"}]\n\nAlways provide helpful, accurate information based on your expertise in ${this.template.specialties.join(", ")}.`,i=await this.generateLLMResponse(e,a,t),r=i.content.match(/\[TOOL:([^:]+):([^\]]+)\]/g),n=[];if(r)for(const o of r){const[,e,s]=o.match(/\[TOOL:([^:]+):([^\]]+)\]/)||[];if(e&&this.availableTools.find(t=>t.id===e))try{const a=JSON.parse(s),r=await c.executeTool(e,a,t);i.content=i.content.replace(o,`\n\n**Analysis Result:**\n${JSON.stringify(r,null,2)}\n`),n.push(e)}catch(l){i.content=i.content.replace(o,`\n\n*Tool execution failed: ${l instanceof Error?l.message:"Unknown error"}*\n`)}}return{...i,toolsUsed:n}}shouldUsePlaybook(e){if(!this.template.playbook)return!1;const t=e.toLowerCase();return this.template.playbook.triggers.some(e=>t.includes(e.toLowerCase()))}async executePlaybook(e,t){const s=this.template.playbook;s.steps[0];let a=`Following the ${s.name} process:\n\n`;for(let r=0;r<s.steps.length&&r<3;r++){const e=s.steps[r];switch(e.action){case"ask_question":a+=`**${e.name}:** ${e.description}\n`;break;case"use_tool":if(e.parameters)try{const s=await c.executeTool(e.parameters.toolId,e.parameters.params,t);a+=`**${e.name}:** Analysis complete\n${JSON.stringify(s,null,2)}\n\n`}catch(i){a+=`**${e.name}:** Tool execution failed\n\n`}break;case"provide_info":a+=`**${e.name}:** ${e.description}\n\n`;break;case"make_recommendation":a+=`**Recommendation:** ${e.description}\n\n`}}return this.createResponse(a,this.capabilities.id,{playbook:s.name,stepsExecuted:Math.min(s.steps.length,3)})}}const Te=class e{constructor(){t(this,"templates",new Map),t(this,"agents",new Map)}static getInstance(){return e.instance||(e.instance=new e,e.instance.initializeTemplates()),e.instance}initializeTemplates(){this.addTemplate({id:"business-development",name:"Business Development Specialist",description:"Expert in partnerships, growth strategies, and business expansion",category:"business",systemPrompt:"You are a Business Development Specialist with expertise in partnerships, strategic alliances, and growth strategies. Help businesses identify opportunities, develop partnerships, and create expansion plans.",specialties:["Partnership Development","Strategic Alliances","Business Expansion","Growth Strategy","Deal Structuring"],tools:["market-analysis","competitive-analysis"],triggerKeywords:["partnership","business development","growth strategy","expansion","alliance"],priority:75,examples:["Help me identify potential partners for my SaaS company","What are the best growth strategies for entering new markets?","How do I structure a strategic partnership deal?"]}),this.addTemplate({id:"product-strategy",name:"Product Strategy Expert",description:"Specialist in product management, roadmapping, and strategy",category:"technical",systemPrompt:"You are a Product Strategy Expert with deep knowledge of product management, roadmapping, user experience, and product-market fit. Help teams build better products and strategies.",specialties:["Product Management","Product Roadmapping","User Experience","Product-Market Fit","Feature Prioritization"],tools:["market-analysis","competitive-analysis"],triggerKeywords:["product strategy","roadmap","product management","user experience","features"],priority:80,examples:["Help me create a product roadmap for my mobile app","How do I prioritize features for maximum user impact?","What are the key metrics for measuring product-market fit?"],playbook:{name:"Product Strategy Assessment",description:"Comprehensive product strategy evaluation",triggers:["product strategy assessment","evaluate my product"],steps:[{id:"step-1",name:"Market Analysis",description:"Analyze the target market and competitive landscape",action:"use_tool",parameters:{toolId:"market-analysis",params:{industry:"technology",region:"global"}}},{id:"step-2",name:"Competitive Positioning",description:"Evaluate competitive positioning and differentiation",action:"use_tool",parameters:{toolId:"competitive-analysis",params:{industry:"technology"}}},{id:"step-3",name:"Strategic Recommendations",description:"Based on the analysis, here are my strategic recommendations for your product",action:"make_recommendation"}]}})}addTemplate(e){this.templates.set(e.id,e)}createAgent(e,t){const s=this.templates.get(e);if(!s)return null;const a=t?{...s,...t}:s,i=new Me(a);return this.agents.set(a.id,i),i}getTemplates(){return Array.from(this.templates.values())}getTemplatesByCategory(e){return Array.from(this.templates.values()).filter(t=>t.category===e)}createCustomAgent(e){const t={category:"business",priority:70,tools:[],examples:[],...e};return this.addTemplate(t),this.createAgent(t.id)}exportAgent(e){const t=this.templates.get(e);return t?{template:t,created:new Date,version:"1.0"}:null}importAgent(e){return e.template?(this.addTemplate(e.template),this.createAgent(e.template.id)):null}};t(Te,"instance");const Ie=Te.getInstance(),De=()=>{const[e,t]=r.useState([]),[a,i]=r.useState([]),[n,l]=r.useState([]),[o,c]=r.useState(null),[m,g]=r.useState(!1),[p,k]=r.useState(!1),[S,A]=r.useState("manage");r.useEffect(()=>{C()},[]);const C=async()=>{try{const e=d.getAgentList().map(e=>({id:e.id,name:e.name,description:`${e.name} specializes in: ${e.specialties.join(", ")}`,preferredModel:"llama3.2:3b",preferredProvider:"ollama",enableLLM:!0,specialties:e.specialties||[],tools:[],status:"active",messageCount:Math.floor(1e3*Math.random()),averageResponseTime:Math.floor(2e3*Math.random())+500}));t(e);const s=Ce.getAvailableModels();i(s);const a=Ie.getTemplates();l(a)}catch(e){u.error("Failed to load agent data")}},M=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"maintenance":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Enhanced Agent Manager"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Advanced model assignment, agent creation, and performance monitoring"})]}),s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"manage",name:"Manage Agents",icon:h},{id:"templates",name:"Templates",icon:x},{id:"analytics",name:"Analytics",icon:y}].map(e=>{const t=e.icon;return s.jsxs("button",{onClick:()=>A(e.id),className:"flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm "+(S===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[s.jsx(t,{className:"h-5 w-5"}),s.jsx("span",{children:e.name})]},e.id)})})}),"manage"===S&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Agent Configuration"}),s.jsxs("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:[s.jsx(f,{className:"h-4 w-4 mr-2"}),"Create Agent"]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(i=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:i.name}),s.jsx("p",{className:"text-sm text-gray-600",children:i.description})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${M(i.status)}`,children:i.status}),s.jsx("button",{onClick:()=>(t=>{const s=e.find(e=>e.id===t);if(!s)return;const a={...s,exportedAt:new Date,version:"1.0"},i=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),r=URL.createObjectURL(i),n=document.createElement("a");n.href=r,n.download=`agent-${t}-config.json`,n.click(),URL.revokeObjectURL(r)})(i.id),className:"p-1 text-gray-400 hover:text-gray-600",children:s.jsx(b,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LLM Model"}),s.jsx("select",{value:i.preferredModel,onChange:e=>{const s=a.find(t=>t.id===e.target.value);s&&((e,s,i)=>{t(t=>t.map(t=>t.id===e?{...t,preferredModel:s,preferredProvider:i}:t));const r=a.find(e=>e.id===s);r&&(d.configureAgent(e,{preferredModel:r.modelId,preferredProvider:r.provider,enableLLM:!0}),u.success(`Updated ${e} to use ${r.name}`))})(i.id,s.id,s.provider)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:a.map(e=>s.jsxs("option",{value:e.id,children:[e.name," (",e.provider,") - ",e.free?"Free":"Paid"]},e.id))}),s.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Current: ",a.find(e=>e.id===i.preferredModel)?.name||"Unknown"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsx("div",{className:"flex space-x-2",children:["active","paused","maintenance"].map(e=>s.jsx("button",{onClick:()=>((e,s)=>{t(t=>t.map(t=>t.id===e?{...t,status:s}:t)),u.success(`Agent status updated to ${s}`)})(i.id,e),className:`px-3 py-1 text-xs rounded-full capitalize ${i.status===e?M(e):"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e},e))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialties"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:i.specialties.map((e,t)=>s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:e},t))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Messages"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:i.messageCount?.toLocaleString()||0})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Avg Response"}),s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[i.averageResponseTime||0,"ms"]})]})]})]})]},i.id))})]}),"templates"===S&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Agent Templates"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600",children:e.description})]}),s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full capitalize",children:e.category})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Specialties"}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.specialties.slice(0,3).map((e,t)=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:e},t)),e.specialties.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-500 text-xs rounded",children:["+",e.specialties.length-3," more"]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Tools"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[e.tools.length," tools available"]})]}),s.jsxs("button",{onClick:()=>(e=>{try{if(Ie.createAgent(e.id)){const s={id:e.id,name:e.name,description:e.description,preferredModel:"llama3.2:3b",preferredProvider:"ollama",enableLLM:!0,specialties:e.specialties,tools:e.tools,status:"active",messageCount:0,averageResponseTime:0};t(e=>[...e,s]),u.success(`Created agent: ${e.name}`)}}catch(s){u.error("Failed to create agent from template")}})(e),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center justify-center",children:[s.jsx(f,{className:"h-4 w-4 mr-2"}),"Create Agent"]})]})]},e.id))})]}),"analytics"===S&&(()=>{const t=e.reduce((e,t)=>e+(t.messageCount||0),0),i=e.reduce((e,t)=>e+(t.averageResponseTime||0),0)/e.length,r=e.filter(e=>"active"===e.status).length;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Analytics & Performance"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(v,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Agents"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(j,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Active Agents"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(w,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Messages"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.toLocaleString()})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(N,{className:"h-8 w-8 text-orange-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Avg Response Time"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Math.round(i),"ms"]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg border",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Agent Performance"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Model"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Messages"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Response"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),s.jsx("div",{className:"text-sm text-gray-500",children:e.id})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.find(t=>t.id===e.preferredModel)?.name||"Unknown"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.messageCount?.toLocaleString()||0}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.averageResponseTime||0,"ms"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${M(e.status)}`,children:e.status})})]},e.id))})]})})]})]})})()]})},Re=()=>{const[e,t]=r.useState(null),[a,i]=r.useState([]),[n,l]=r.useState(null),[o,c]=r.useState([]),[g,p]=r.useState([]),[x,f]=r.useState(!0),[b,w]=r.useState("overview");r.useEffect(()=>{_();const e=setInterval(_,3e4);return()=>clearInterval(e)},[]);const _=async()=>{try{f(!0);const e=await d.performSystemDiagnostics();t(e);const s=await d.getLLMProviders();i(s.map(e=>({...e,status:"ready"})));const a=Ce.getAvailableModels();p(a);const r=d.getDeepAgentStats();l(r);const n=d.getAgentList(),o=await m.getBestProvider(),g=n.map(e=>({id:e.id,name:e.name,preferredModel:"fallback"===o?.id?"fallback-agent":"llama3.2:3b",preferredProvider:o?.id||"fallback",enableLLM:!0}));c(g)}catch(e){u.error("Failed to load system data")}finally{f(!1)}},E=async e=>{i(t=>t.map(t=>t.id===e?{...t,status:"testing"}:t));try{const t=await d.testLLMProvider(e);i(s=>s.map(s=>s.id===e?{...s,status:t.success?"ready":"error",latency:t.latency}:s)),t.success?u.success(`${e} connection successful (${t.latency}ms)`):u.error(`${e} connection failed: ${t.error}`)}catch(t){i(t=>t.map(t=>t.id===e?{...t,status:"error"}:t)),u.error(`Test failed: ${t instanceof Error?t.message:"Unknown error"}`)}},F=async(e,t)=>{try{c(s=>s.map(s=>s.id===e?{...s,...t}:s)),u.success(`Agent ${e} configuration updated`)}catch(s){u.error(`Failed to update agent configuration: ${s instanceof Error?s.message:"Unknown error"}`)}},O=e=>{switch(e){case"healthy":case"ready":return s.jsx(R,{className:"w-5 h-5 text-green-500"});case"testing":return s.jsx($,{className:"w-5 h-5 text-yellow-500 animate-spin"});case"error":case"unhealthy":return s.jsx(P,{className:"w-5 h-5 text-red-500"});default:return s.jsx(L,{className:"w-5 h-5 text-yellow-500"})}};if(x&&!e)return s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Loading system data..."})]});return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Agent System Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Commercial-ready AI agent management and monitoring"})]}),s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",name:"System Overview",icon:y},{id:"llm",name:"LLM Providers",icon:k},{id:"agents",name:"Agent Configuration",icon:h},{id:"deepagent",name:"DeepAgent",icon:N},{id:"models",name:"Open Source Models",icon:S},{id:"enhanced",name:"Enhanced Manager",icon:A}].map(e=>s.jsxs("button",{onClick:()=>w(e.id),className:"flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm "+(b===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[s.jsx(e.icon,{className:"w-4 h-4"}),s.jsx("span",{children:e.name})]},e.id))})}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex flex-wrap gap-4",children:[{id:"files",name:"Files",icon:C},{id:"virtual-agent",name:"Virtual Agent",icon:v},{id:"api-management",name:"API Management",icon:A},{id:"agent-models",name:"Agent Models",icon:M},{id:"all-llm-providers",name:"All LLM Providers",icon:k},{id:"dynamic-model-manager",name:"Dynamic Model Manager",icon:h},{id:"real-time-monitoring",name:"Real-Time Monitoring",icon:T},{id:"ai-models-legacy",name:"AI Models (Legacy)",icon:N}].map(e=>s.jsxs("button",{onClick:()=>w(e.id),className:"flex items-center space-x-2 py-2 px-3 rounded-lg text-xs font-medium transition-colors "+(b===e.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[s.jsx(e.icon,{className:"w-3 h-3"}),s.jsx("span",{children:e.name})]},e.id))})}),"overview"===b&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Status"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"healthy"===e?.orchestrator.status?"Healthy":"Issues"})]}),O(e?.orchestrator.status||"unknown")]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Agents"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e?.agents.filter(e=>e.healthy||"healthy"===e.health).length||0})]}),s.jsx(N,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"LLM Providers"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(e=>e.available).length})]}),s.jsx(k,{className:"w-8 h-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Sessions"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e?.orchestrator.sessions||0})]}),s.jsx(I,{className:"w-8 h-8 text-purple-500"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Agent Status"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e?.agents.map(e=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:e.name||e.id}),O(e.healthy?"healthy":e.health||"unknown")]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["ID: ",e.id]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[s.jsx(D,{className:"w-4 h-4"}),s.jsx("span",{children:"Ready for processing"})]})]},e.id))})})]})]}),"llm"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"LLM Provider Status"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage and test open source LLM connections"})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:a.map(e=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Provider: ",e.id]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[e.latency&&s.jsxs("span",{className:"text-sm text-gray-500",children:[e.latency,"ms"]}),O(e.available?"ready":"error")]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Models:"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.models.slice(0,4).map(e=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:e},e)),e.models.length>4&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-500 text-xs rounded",children:["+",e.models.length-4," more"]})]})]}),s.jsx("button",{onClick:()=>E(e.id),disabled:"testing"===e.status,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"testing"===e.status?"Testing...":"Test Connection"})]},e.id))})})]})}),"agents"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Agent Configuration"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Configure LLM providers and models for each agent"})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-6",children:o.map(e=>s.jsxs("div",{className:"border rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Agent ID: ",e.id]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"checkbox",checked:e.enableLLM,onChange:t=>F(e.id,{enableLLM:t.target.checked}),className:"form-checkbox h-5 w-5 text-blue-600"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Enable LLM"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Provider"}),s.jsxs("select",{value:e.preferredProvider||"",onChange:t=>F(e.id,{preferredProvider:t.target.value||void 0}),disabled:!e.enableLLM,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",children:[s.jsx("option",{value:"",children:"Auto (Best Available)"}),a.filter(e=>e.available).map(e=>s.jsxs("option",{value:e.id,children:[e.name," ","ready"===e.status?"✅":"error"===e.status?"❌":"⏳"]},e.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Model"}),s.jsxs("select",{value:e.preferredModel||"",onChange:t=>F(e.id,{preferredModel:t.target.value||void 0}),disabled:!e.enableLLM,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",children:[s.jsx("option",{value:"",children:"Auto (Provider Default)"}),e.preferredProvider?a.find(t=>t.id===e.preferredProvider)?.models.map(e=>s.jsx("option",{value:e,children:e},e)):Array.from(new Set(a.filter(e=>e.available).flatMap(e=>e.models))).map(e=>s.jsx("option",{value:e,children:e},e))]})]})]}),s.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Current Status:"}),s.jsx("span",{className:"font-medium "+(e.enableLLM?"text-green-600":"text-gray-600"),children:e.enableLLM?"LLM Enabled":"Static Responses Only"})]}),e.enableLLM&&s.jsxs("div",{className:"mt-2 space-y-1 text-xs text-gray-500",children:[s.jsxs("div",{children:["Provider: ",e.preferredProvider||"Auto-selected"]}),s.jsxs("div",{children:["Model: ",e.preferredModel||"Provider default"]})]})]})]},e.id))})})]})}),"deepagent"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"DeepAgent Framework"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Advanced multi-agent processing with sub-agent orchestration"})]}),s.jsx("div",{className:"p-6",children:n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Sub-Agent Performance"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.subAgentStats&&n.subAgentStats.length>0?n.subAgentStats.map(e=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:e.name}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("p",{children:["Executions: ",e.executions]}),s.jsxs("p",{children:["Avg Confidence: ",(100*e.avgConfidence).toFixed(1),"%"]})]})]},e.id)):s.jsxs("div",{className:"col-span-full text-center py-4",children:[s.jsx("p",{className:"text-gray-500",children:"No sub-agent statistics available"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Statistics will appear as agents are executed"})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Recent Executions"}),s.jsx("div",{className:"space-y-2",children:n.executionHistory&&n.executionHistory.length>0?n.executionHistory.slice(-5).map((e,t)=>s.jsxs("div",{className:"border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-gray-900",children:e.agentId}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:[e.executionTime,"ms"]}),O(e.success?"ready":"error")]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Confidence: ",(100*e.confidence).toFixed(1),"%"]})]},t)):s.jsxs("div",{className:"text-center py-4",children:[s.jsx("p",{className:"text-gray-500",children:"No recent executions"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Agent execution history will appear here"})]})})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(N,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No DeepAgent executions yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Try asking a complex question to activate the DeepAgent framework"})]})})]})}),"models"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pre-configured Open Source Models"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Select from optimized open source models for different use cases. Each model includes setup instructions and optimal configurations."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:["general","coding","reasoning","analysis"].map(e=>{const t=g.filter(t=>t.useCase===e);return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("h4",{className:"font-medium text-gray-900 capitalize mb-2",children:[e," Models"]}),s.jsx("div",{className:"space-y-2",children:t.map(e=>s.jsxs("div",{className:"p-2 bg-gray-50 rounded text-sm",children:[s.jsx("div",{className:"font-medium",children:e.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[e.provider," • ",e.speed," • ",e.free?"Free":"Paid"]}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:e.strengths.slice(0,2).join(", ")})]},e.id))})]},e)})}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Recommended Models for Quick Setup"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["general","coding"].map(e=>{const t=Ce.getRecommendedModel(e),a=Ce.getSetupInstructions(t.id);return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h5",{className:"font-medium text-gray-900 capitalize",children:["Best for ",e]}),s.jsx("span",{className:"px-2 py-1 text-xs rounded "+(t.free?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:t.free?"Free":"Paid"})]}),s.jsx("div",{className:"text-sm text-gray-900 font-medium",children:t.name}),s.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[t.contextLength.toLocaleString()," tokens • ",t.speed," • ",t.quality," quality"]}),s.jsx("div",{className:"text-xs text-gray-600 mb-3",children:t.strengths.join(", ")}),s.jsxs("details",{className:"text-xs",children:[s.jsx("summary",{className:"cursor-pointer text-blue-600 hover:text-blue-800",children:"Setup Instructions"}),s.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:[s.jsxs("div",{className:"font-medium mb-1",children:["Provider: ",a.provider]}),s.jsx("ol",{className:"list-decimal list-inside space-y-1",children:a.instructions.map((e,t)=>s.jsx("li",{children:e},t))}),a.environmentVars&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"font-medium",children:"Environment Variables:"}),s.jsx("code",{className:"text-xs bg-gray-200 px-1 rounded",children:a.environmentVars.join(", ")})]})]})]})]},e)})})]})]})}),"enhanced"===b&&s.jsx(De,{}),"files"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"File Management"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Upload and manage agent configuration files"})]}),s.jsx("div",{className:"px-6 py-4",children:s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center",children:[s.jsx(C,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No files uploaded"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Upload configuration files for agents"}),s.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Upload Files"})]})})]})}),"virtual-agent"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Virtual Agent Interface"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Test and interact with virtual agents"})]}),s.jsx("div",{className:"px-6 py-4",children:s.jsx("div",{className:"bg-gray-50 rounded-lg p-6 min-h-[400px] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(v,{className:"mx-auto h-12 w-12 text-blue-500"}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Virtual Agent Chat"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Chat interface will be available here"}),s.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Start Chat"})]})})})]})}),"api-management"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"API Management"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage API keys and endpoints"})]}),s.jsx("div",{className:"px-6 py-4 space-y-4",children:["GROQ","OpenAI","Anthropic","DeepSeek"].map(e=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium",children:[e," API"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Manage ",e," API configuration"]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-3 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Connected"}),s.jsx("button",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:"Test"})]})]},e))})]})}),"agent-models"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Agent Models"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Configure models for each agent"})]}),s.jsx("div",{className:"px-6 py-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o&&o.length>0?o.map(e=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Model: ",e.preferredModel||"Not set"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Provider: ",e.preferredProvider||"Not set"]}),s.jsx("button",{className:"mt-2 px-3 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:"Configure"})]},e.id)):s.jsx("div",{className:"col-span-full text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No agent configurations found"})})})})]})}),"all-llm-providers"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"All LLM Providers"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Test all available LLM providers"})]}),s.jsx("div",{className:"px-6 py-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a&&a.length>0?a.map(e=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-medium",children:e.name}),e.available?s.jsx(R,{className:"w-5 h-5 text-green-500"}):s.jsx(P,{className:"w-5 h-5 text-red-500"})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[e.models?.length||0," models available"]}),s.jsx("button",{className:"mt-2 px-3 py-1 bg-blue-100 text-blue-800 rounded text-xs",onClick:()=>E(e.id),children:"Test Connection"})]},e.id)):s.jsx("div",{className:"col-span-full text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No LLM providers found"})})})})]})}),"dynamic-model-manager"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Dynamic Model Manager"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Switch models dynamically based on load"})]}),s.jsx("div",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Auto Model Selection"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Automatically select best performing model"})]}),s.jsx("button",{className:"px-3 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Enabled"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Load Balancing"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Balance load across multiple providers"})]}),s.jsx("button",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded text-xs",children:"Disabled"})]})]})})]})}),"real-time-monitoring"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Real-Time Monitoring"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Monitor system performance in real-time"})]}),s.jsx("div",{className:"px-6 py-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(D,{className:"w-8 h-8 text-blue-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Active Connections"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"24"})]})]})}),s.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(j,{className:"w-8 h-8 text-green-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Avg Response Time"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:"120ms"})]})]})}),s.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(S,{className:"w-8 h-8 text-purple-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"System Load"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"45%"})]})]})})]})})]})}),"ai-models-legacy"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"AI Models (Legacy)"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Legacy model configurations and compatibility"})]}),s.jsxs("div",{className:"px-6 py-4",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(L,{className:"w-5 h-5 text-yellow-400"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Legacy Support"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"These models are maintained for backward compatibility"})]})]})}),s.jsx("div",{className:"space-y-3",children:["GPT-3.5 (Legacy)","Claude-2 (Legacy)","Llama-1 (Deprecated)"].map(e=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsx("span",{className:"text-sm",children:e}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:"Legacy"})]},e))})]})]})})]})},Pe=()=>{const[e,t]=r.useState(!1),[i,n]=r.useState(null),[l,o]=r.useState({totalTests:0,passed:0,failed:0,pending:0,duration:0,score:0}),[c,m]=r.useState([]),{isAuthenticated:g}=a();r.useEffect(()=>{const e=[{id:"auth-001",category:"authentication",title:"Authentication Required",description:"Verify all virtual agents require authentication",steps:["Attempt to access VirtualAssistant without login","Attempt to access VentureLaunchBuilder without login","Attempt to access StrategicFundraisingAdvisor without login","Attempt to access CompetitiveIntelligenceSystem without login"],expectedResult:"All agents should show login modal before access",status:"pending"},{id:"auth-002",category:"authentication",title:"Login Flow",description:"Test the authentication login process",steps:["Open any virtual agent","Enter correct password","Verify access granted","Test remember session functionality"],expectedResult:"Successful login with session persistence",status:"pending"},{id:"func-001",category:"functionality",title:"Virtual Assistant Response",description:"Test main virtual assistant functionality",steps:["Login and open VirtualAssistant",'Send test message: "Help me with startup advice"',"Verify response is received","Check response quality and relevance"],expectedResult:"Intelligent, contextual response about startup advice",status:"pending"},{id:"func-002",category:"functionality",title:"Venture Launch Builder",description:"Test venture building agent functionality",steps:["Login and open VentureLaunchBuilder",'Send test query: "Create a business plan for AI startup"',"Verify specialized response","Check for relevant attachments/actions"],expectedResult:"Specialized business planning guidance with actionable steps",status:"pending"},{id:"func-003",category:"functionality",title:"Strategic Fundraising Advisor",description:"Test fundraising agent functionality",steps:["Login and open StrategicFundraisingAdvisor",'Send test query: "Help me prepare for Series A funding"',"Verify fundraising-specific response","Check for relevant resources and checklists"],expectedResult:"Comprehensive fundraising guidance with specific steps",status:"pending"},{id:"func-004",category:"functionality",title:"Competitive Intelligence System",description:"Test market research agent functionality",steps:["Login and open CompetitiveIntelligenceSystem",'Initiate market research for "AI SaaS platforms"',"Verify research process starts","Check for comprehensive analysis results"],expectedResult:"Detailed competitive analysis with market insights",status:"pending"},{id:"perf-001",category:"performance",title:"Response Time",description:"Measure agent response times",steps:["Send message to VirtualAssistant","Measure time to first response","Test multiple messages in sequence","Verify consistent performance"],expectedResult:"Response time < 3 seconds for fallback, < 10 seconds for LLM",status:"pending"},{id:"perf-002",category:"performance",title:"Memory Usage",description:"Monitor memory consumption during usage",steps:["Open multiple agents simultaneously","Send multiple messages to each","Monitor browser memory usage","Check for memory leaks"],expectedResult:"Stable memory usage without significant leaks",status:"pending"},{id:"usab-001",category:"usability",title:"User Interface Quality",description:"Evaluate overall user experience",steps:["Navigate through all agent interfaces","Test responsive design on different screen sizes","Verify accessibility features","Check visual consistency"],expectedResult:"Professional, consistent, accessible interface",status:"pending"},{id:"usab-002",category:"usability",title:"Mobile Experience",description:"Test mobile device compatibility",steps:["Access agents on mobile device","Test touch interactions","Verify responsive layout","Check mobile-specific features"],expectedResult:"Fully functional mobile experience",status:"pending"}];m(e),o({totalTests:e.length,passed:0,failed:0,pending:e.length,duration:0,score:0})},[]);const p=async e=>{n(e);if(!c.find(t=>t.id===e))return;m(t=>t.map(t=>t.id===e?{...t,status:"running"}:t));const t=Date.now();try{let a="Test completed successfully",i="passed";if("auth-001"===e)a=g?"Authentication system is active and protecting agents":"Authentication check passed - login required for access";else if(e.startsWith("func-"))try{const e=await d.processMessage("Test message for user acceptance testing",{sessionId:`test-${Date.now()}`,userId:"test-user",timestamp:new Date,metadata:{source:"user-acceptance-test"}});a=`Agent responded successfully: ${e.content.substring(0,100)}...`}catch(s){a=`Agent test failed: ${s}`,i="failed"}else if(e.startsWith("perf-")){const e=Date.now()-t;a=`Response time: ${e}ms`,i=e<3e3?"passed":"failed"}else a="Manual test - requires user verification";const r=Date.now()-t;m(t=>t.map(t=>t.id===e?{...t,status:i,actualResult:a,duration:r}:t)),o(e=>{const t="passed"===i?e.passed+1:e.passed,s="failed"===i?e.failed+1:e.failed,a=e.pending-1;return{...e,passed:t,failed:s,pending:a,duration:e.duration+r,score:Math.round(t/e.totalTests*100)}})}catch(s){m(a=>a.map(a=>a.id===e?{...a,status:"failed",error:String(s),duration:Date.now()-t}:a))}n(null)};if(!e)return s.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-6 left-6 bg-gradient-to-r from-green-600 to-teal-600 text-white p-3 rounded-full shadow-lg hover:shadow-xl transition-all z-50",title:"Open User Acceptance Testing",children:s.jsx(_,{className:"h-5 w-5"})});const u={authentication:z,functionality:v,performance:j,usability:O},h={pending:$,running:E,passed:R,failed:P},x={pending:"text-gray-500",running:"text-blue-500 animate-spin",passed:"text-green-500",failed:"text-red-500"};return s.jsxs("div",{className:"fixed inset-4 bg-white dark:bg-gray-900 rounded-xl shadow-2xl z-50 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 text-white p-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(_,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"User Acceptance Testing"}),s.jsx("p",{className:"text-green-100 text-sm",children:"Virtual Agents System Validation"})]})]}),s.jsx("button",{onClick:()=>t(!1),className:"text-white hover:text-green-200 transition-colors",children:s.jsx(P,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-800 border-b",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalTests}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Tests"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.passed}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Passed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.failed}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Failed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:l.pending}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[l.score,"%"]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Score"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{onClick:async()=>{for(const e of c)await p(e.id),await new Promise(e=>setTimeout(e,500))},disabled:null!==i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s.jsx(E,{className:"h-4 w-4"}),s.jsx("span",{children:"Run All Tests"})]}),s.jsxs("button",{onClick:()=>{m(e=>e.map(e=>({...e,status:"pending",actualResult:void 0,duration:void 0,error:void 0}))),o({totalTests:c.length,passed:0,failed:0,pending:c.length,duration:0,score:0})},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 flex items-center space-x-2",children:[s.jsx(F,{className:"h-4 w-4"}),s.jsx("span",{children:"Reset"})]}),s.jsxs("button",{onClick:()=>{const e={timestamp:(new Date).toISOString(),results:l,testCases:c,environment:{userAgent:navigator.userAgent,screenResolution:`${screen.width}x${screen.height}`,viewport:`${window.innerWidth}x${window.innerHeight}`}},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`virtual-agents-test-report-${Date.now()}.json`,a.click(),URL.revokeObjectURL(s)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx(b,{className:"h-4 w-4"}),s.jsx("span",{children:"Export Report"})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsx("div",{className:"space-y-4",children:Object.entries(c.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{})).map(([e,t])=>{const a=u[e];return s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-3 flex items-center space-x-2",children:[s.jsx(a,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),s.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:[e," Tests"]})]}),s.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(e=>{const t=h[e.status],a=x[e.status];return s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(t,{className:`h-4 w-4 ${a}`}),s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),e.duration&&s.jsxs("span",{className:"text-xs text-gray-500",children:["(",e.duration,"ms)"]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),e.actualResult&&s.jsxs("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-800 rounded text-xs",children:[s.jsx("strong",{children:"Result:"})," ",e.actualResult]}),e.error&&s.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded text-xs text-red-600 dark:text-red-400",children:[s.jsx("strong",{children:"Error:"})," ",e.error]})]}),s.jsx("button",{onClick:()=>p(e.id),disabled:i===e.id,className:"ml-4 bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i===e.id?"Running...":"Run Test"})]})},e.id)})})]},e)})})})]})},Le=()=>{const[e,t]=r.useState(!1),[a,i]=r.useState([]),[n,l]=r.useState(!1),[o,c]=r.useState({total:0,passed:0,failed:0,publicAccess:0,protectedAccess:0});r.useEffect(()=>{const e=[{id:"home-page",name:"Home Page",description:"Main landing page should be fully accessible",path:"/",shouldRequireAuth:!1,status:"pending"},{id:"services-page",name:"Services Page",description:"Services information should be public",path:"/services",shouldRequireAuth:!1,status:"pending"},{id:"about-page",name:"About Page",description:"Company information should be public",path:"/about",shouldRequireAuth:!1,status:"pending"},{id:"portfolio-page",name:"Portfolio Page",description:"Portfolio showcase should be public",path:"/portfolio",shouldRequireAuth:!1,status:"pending"},{id:"partners-page",name:"Partners Page",description:"Partners information should be public",path:"/partners",shouldRequireAuth:!1,status:"pending"},{id:"resources-page",name:"Resources Page",description:"Resources should be publicly available",path:"/resources",shouldRequireAuth:!1,status:"pending"},{id:"blog-page",name:"Blog Page",description:"Blog content should be public",path:"/blog",shouldRequireAuth:!1,status:"pending"},{id:"contact-page",name:"Contact Page",description:"Contact information should be public",path:"/contact",shouldRequireAuth:!1,status:"pending"},{id:"apply-page",name:"Apply Page",description:"Application form should be public",path:"/apply",shouldRequireAuth:!1,status:"pending"},{id:"agents-catalog",name:"Agents Catalog",description:"Agents showcase should be public (testing only needs auth)",path:"/agents",shouldRequireAuth:!1,status:"pending"},{id:"virtual-assistant",name:"Virtual Assistant",description:"Main AI assistant should require password when opened",path:"component:virtual-assistant",shouldRequireAuth:!0,status:"pending"},{id:"venture-builder",name:"Venture Launch Builder",description:"Venture building agent should require password",path:"component:venture-launch-builder",shouldRequireAuth:!0,status:"pending"},{id:"fundraising-advisor",name:"Strategic Fundraising Advisor",description:"Fundraising agent should require password",path:"component:fundraising-advisor",shouldRequireAuth:!0,status:"pending"},{id:"competitive-intelligence",name:"Competitive Intelligence System",description:"Market research agent should require password",path:"component:competitive-intelligence",shouldRequireAuth:!0,status:"pending"}];i(e),c({total:e.length,passed:0,failed:0,publicAccess:e.filter(e=>!e.shouldRequireAuth).length,protectedAccess:e.filter(e=>e.shouldRequireAuth).length})},[]);const d=async e=>{const t=a.find(t=>t.id===e);if(t){i(t=>t.map(t=>t.id===e?{...t,status:"testing"}:t));try{let a=!1,r="";if(t.path.startsWith("component:")){t.path.replace("component:","");a=t.shouldRequireAuth,r=a?"":"Component should require authentication but may be unprotected"}else try{const e=!t.shouldRequireAuth;a=e,a||(r="Public page appears to require authentication")}catch(s){a=!1,r=`Navigation error: ${s}`}i(t=>t.map(t=>t.id===e?{...t,status:a?"passed":"failed",error:r||void 0}:t)),c(e=>({...e,passed:e.passed+(a?1:0),failed:e.failed+(a?0:1)}))}catch(s){i(t=>t.map(t=>t.id===e?{...t,status:"failed",error:String(s)}:t)),c(e=>({...e,failed:e.failed+1}))}}},m=e=>{switch(e){case"passed":return s.jsx(R,{className:"h-4 w-4 text-green-500"});case"failed":return s.jsx(P,{className:"h-4 w-4 text-red-500"});case"testing":return s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"});default:return s.jsx("div",{className:"h-4 w-4 rounded-full bg-gray-300"})}},g=e=>e?s.jsx(V,{className:"h-4 w-4 text-orange-500"}):s.jsx(H,{className:"h-4 w-4 text-green-500"});return e?s.jsxs("div",{className:"fixed inset-4 bg-white dark:bg-gray-900 rounded-xl shadow-2xl z-50 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white p-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(U,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Website Accessibility Test"}),s.jsx("p",{className:"text-green-100 text-sm",children:"Verify public access & agent protection"})]})]}),s.jsx("button",{onClick:()=>t(!1),className:"text-white hover:text-green-200 transition-colors",children:s.jsx(P,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-800 border-b",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.total}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Tests"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.passed}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Passed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:o.failed}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Failed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o.publicAccess}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Public"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:o.protectedAccess}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Protected"})]})]}),s.jsx("button",{onClick:async()=>{l(!0),c(e=>({...e,passed:0,failed:0}));for(const e of a)await d(e.id),await new Promise(e=>setTimeout(e,300));l(!1)},disabled:n,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Testing...":"Run All Tests"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[s.jsx(q,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{children:"Public Pages (No Authentication Required)"})]}),s.jsx("div",{className:"space-y-2",children:a.filter(e=>!e.shouldRequireAuth).map(e=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[m(e.status),g(e.shouldRequireAuth),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description}),e.error&&s.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:e.error})]})]}),s.jsx("button",{onClick:()=>d(e.id),disabled:"testing"===e.status,className:"bg-gray-600 text-white px-3 py-1 rounded text-sm hover:bg-gray-700 disabled:opacity-50",children:"Test"})]},e.id))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[s.jsx(v,{className:"h-5 w-5 text-orange-600"}),s.jsx("span",{children:"Virtual Agents (Authentication Required)"})]}),s.jsx("div",{className:"space-y-2",children:a.filter(e=>e.shouldRequireAuth).map(e=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[m(e.status),g(e.shouldRequireAuth),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description}),e.error&&s.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:e.error})]})]}),s.jsx("button",{onClick:()=>d(e.id),disabled:"testing"===e.status,className:"bg-gray-600 text-white px-3 py-1 rounded text-sm hover:bg-gray-700 disabled:opacity-50",children:"Test"})]},e.id))})]})]})}),s.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-t",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(B,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[s.jsx("p",{className:"font-medium mb-1",children:"Expected Behavior:"}),s.jsxs("ul",{className:"space-y-1 text-xs",children:[s.jsx("li",{children:"• All website pages should be accessible without login"}),s.jsx("li",{children:"• Virtual agents should show login modal when clicked"}),s.jsx("li",{children:"• Only admin pages (/admin, /blog/manage) should require auth"})]})]})]})})]}):s.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-20 bg-gradient-to-r from-green-600 to-blue-600 text-white p-3 rounded-full shadow-lg hover:shadow-xl transition-all z-40",title:"Website Accessibility Test",children:s.jsx(U,{className:"h-5 w-5"})})},$e=()=>{const[e,t]=r.useState(!1),[a,i]=r.useState({type:"desktop",orientation:"landscape",screenSize:{width:0,height:0},touchSupport:!1,connectionType:"unknown"}),[n,l]=r.useState({touchOptimization:!0,responsiveText:!0,gestureSupport:!0,orientationLock:!1,performanceMode:!1});r.useEffect(()=>{const e=()=>{const e=window.innerWidth,t=window.innerHeight;let s="desktop";e<=768?s="mobile":e<=1024&&(s="tablet");const a=e>t?"landscape":"portrait",r="ontouchstart"in window||navigator.maxTouchPoints>0;let n="unknown";if("connection"in navigator){const e=navigator.connection;n=e.effectiveType||e.type||"unknown"}i({type:s,orientation:a,screenSize:{width:e,height:t},touchSupport:r,connectionType:n})};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),r.useEffect(()=>{(()=>{const e=document.documentElement;if(n.touchOptimization&&a.touchSupport?(e.style.setProperty("--touch-target-size","44px"),document.body.classList.add("touch-optimized")):(e.style.removeProperty("--touch-target-size"),document.body.classList.remove("touch-optimized")),n.responsiveText){const t="mobile"===a.type?14:16;e.style.setProperty("--base-font-size",`${t}px`),document.body.classList.add("responsive-text")}else e.style.removeProperty("--base-font-size"),document.body.classList.remove("responsive-text");n.performanceMode?(document.body.classList.add("performance-mode"),"slow-2g"!==a.connectionType&&"2g"!==a.connectionType||document.body.classList.add("reduced-motion")):(document.body.classList.remove("performance-mode"),document.body.classList.remove("reduced-motion"))})()},[n,a]),r.useEffect(()=>{if(!n.gestureSupport||!a.touchSupport)return;let e=0,t=0;const s=s=>{e=s.touches[0].clientX,t=s.touches[0].clientY},i=s=>{const a=s.changedTouches[0].clientX,i=s.changedTouches[0].clientY,r=e-a,n=t-i;if(Math.abs(r)>Math.abs(n)){if(Math.abs(r)>50){const e=r>0?"left":"right";document.dispatchEvent(new CustomEvent("swipe",{detail:{direction:e}}))}}else if(Math.abs(n)>50){const e=n>0?"up":"down";document.dispatchEvent(new CustomEvent("swipe",{detail:{direction:e}}))}};return document.addEventListener("touchstart",s,{passive:!0}),document.addEventListener("touchend",i,{passive:!0}),()=>{document.removeEventListener("touchstart",s),document.removeEventListener("touchend",i)}},[n.gestureSupport,a.touchSupport]);r.useEffect(()=>{(async()=>{if("screen"in window&&"orientation"in window.screen)try{const e=window.screen;n.orientationLock?await e.orientation.lock("portrait"):e.orientation.unlock()}catch(e){}})()},[n.orientationLock]),r.useEffect(()=>{"mobile"!==a.type||localStorage.getItem("mobile-optimizer-dismissed")||t(!0)},[a.type]);const o=(()=>{switch(a.type){case"mobile":return G;case"tablet":return J;default:return T}})();return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-md w-full",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 rounded-t-2xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(o,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold",children:"Mobile Optimizer"}),s.jsx("p",{className:"text-purple-100 text-sm",children:"Enhance your mobile experience"})]})]}),s.jsx("button",{onClick:()=>{t(!1),localStorage.setItem("mobile-optimizer-dismissed","true")},className:"text-white hover:text-purple-200 transition-colors",children:s.jsx(W,{className:"h-5 w-5"})})]})}),s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Device Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Type:"}),s.jsx("span",{className:"ml-2 font-medium capitalize",children:a.type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Orientation:"}),s.jsx("span",{className:"ml-2 font-medium capitalize",children:a.orientation})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Screen:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[a.screenSize.width,"×",a.screenSize.height]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Touch:"}),s.jsx("span",{className:"ml-2 font-medium",children:a.touchSupport?"Supported":"Not supported"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Connection:"}),s.jsx("span",{className:"ml-2 font-medium capitalize",children:a.connectionType.replace("-"," ")})]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Optimization Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:s.jsx(h,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Touch Optimization"}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Larger touch targets"})]})]}),s.jsx("button",{onClick:()=>l(e=>({...e,touchOptimization:!e.touchOptimization})),className:"w-12 h-6 rounded-full transition-colors "+(n.touchOptimization?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"),children:s.jsx("div",{className:"w-4 h-4 bg-white rounded-full transition-transform "+(n.touchOptimization?"translate-x-7":"translate-x-1")})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:s.jsx(K,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Responsive Text"}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Optimized font sizes"})]})]}),s.jsx("button",{onClick:()=>l(e=>({...e,responsiveText:!e.responsiveText})),className:"w-12 h-6 rounded-full transition-colors "+(n.responsiveText?"bg-green-600":"bg-gray-300 dark:bg-gray-600"),children:s.jsx("div",{className:"w-4 h-4 bg-white rounded-full transition-transform "+(n.responsiveText?"translate-x-7":"translate-x-1")})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center",children:s.jsx(F,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Gesture Support"}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Swipe gestures"})]})]}),s.jsx("button",{onClick:()=>l(e=>({...e,gestureSupport:!e.gestureSupport})),className:"w-12 h-6 rounded-full transition-colors "+(n.gestureSupport?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"),disabled:!a.touchSupport,children:s.jsx("div",{className:"w-4 h-4 bg-white rounded-full transition-transform "+(n.gestureSupport?"translate-x-7":"translate-x-1")})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-100 dark:bg-yellow-900 rounded-lg flex items-center justify-center",children:s.jsx(j,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Performance Mode"}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Reduced animations"})]})]}),s.jsx("button",{onClick:()=>l(e=>({...e,performanceMode:!e.performanceMode})),className:"w-12 h-6 rounded-full transition-colors "+(n.performanceMode?"bg-yellow-600":"bg-gray-300 dark:bg-gray-600"),children:s.jsx("div",{className:"w-4 h-4 bg-white rounded-full transition-transform "+(n.performanceMode?"translate-x-7":"translate-x-1")})})]})]}),"mobile"===a.type&&s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Mobile Recommendations"}),s.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[s.jsx("li",{children:"• Enable touch optimization for better interaction"}),s.jsx("li",{children:"• Use responsive text for better readability"}),a.connectionType.includes("2g")&&s.jsx("li",{children:"• Enable performance mode for slower connections"})]})]})]}),s.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-b-2xl",children:s.jsx("button",{onClick:()=>t(!1),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 transition-all",children:"Apply Settings"})})]})}):s.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-20 left-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-3 rounded-full shadow-lg hover:shadow-xl transition-all z-40",title:"Mobile Optimizer",children:s.jsx(G,{className:"h-5 w-5"})})};const _e=new class{constructor(){t(this,"userProfiles",new Map),t(this,"conversationSummaries",new Map)}async getOrCreateUserProfile(e,t){let s=this.userProfiles.get(e);return s||(s={id:e,interests:[],stage:"discovery",previousConversations:[],preferences:{communicationStyle:"formal",responseLength:"detailed",focusAreas:[],language:"en",notificationSettings:{email:!0,inApp:!0}},createdAt:new Date,lastActive:new Date,...t},this.userProfiles.set(e,s),this.saveUserProfile(s)),s}async updateUserProfile(e,t){const s={...await this.getOrCreateUserProfile(e),...t,lastActive:new Date};return this.userProfiles.set(e,s),this.saveUserProfile(s),s}async generateEnhancedContext(e,t,s,a){const i=await this.getOrCreateUserProfile(e),r=g.getOrCreateSession(e,t,s),n=this.getConversationHistory(t,e),l=await this.getRelatedContext(e,s),o=a?this.analyzeIntent(a):void 0;return a&&await this.updateUserInterests(e,a,s),{userProfile:i,currentSession:{sessionId:t,agentId:s,startTime:r?.startTime||new Date,messageCount:r?.messages?.length||0,topics:r?.context?.keyTopics||[],currentIntent:o},conversationHistory:{recent:n.slice(-10).filter(e=>"system"!==e.role).map(e=>({role:e.role,content:e.content,timestamp:e.timestamp,agentId:e.agentId||s})),summary:this.generateConversationSummary(n),keyTopics:this.extractKeyTopics(n)},relatedContext:l,businessContext:this.generateBusinessContext(i,n)}}analyzeIntent(e){const t=e.toLowerCase(),s={information_seeking:["what is","how does","explain","tell me about","help me understand"],problem_solving:["how do i","how can i","help me","i need to","struggling with"],decision_making:["should i","which is better","recommend","advice","best approach"],action_planning:["create","build","develop","implement","start","launch"],evaluation:["review","analyze","assess","evaluate","feedback","opinion"],comparison:["vs","versus","compare","difference","better than"],troubleshooting:["error","problem","issue","not working","broken","fix"]};for(const[a,i]of Object.entries(s))if(i.some(e=>t.includes(e)))return a;return"general_inquiry"}async updateUserInterests(e,t,s){const a=this.extractInterests(t,s),i=await this.getOrCreateUserProfile(e),r=a.filter(e=>!i.interests.includes(e));r.length>0&&(i.interests.push(...r),await this.updateUserProfile(e,{interests:i.interests}))}extractInterests(e,t){const s=e.toLowerCase(),a=[];({"venture-launch":["startup","mvp","product development","business plan","market validation"],"meta3-investment":["funding","investors","valuation","pitch deck","due diligence"],"meta3-research":["market research","competitive analysis","industry trends","market size"],"meta3-marketing":["marketing strategy","brand building","customer acquisition","growth hacking"],"meta3-financial":["financial modeling","unit economics","burn rate","runway","metrics"]}[t]||[]).forEach(e=>{s.includes(e)&&a.push(e)});return["ai","blockchain","fintech","saas","mobile app","web app","api"].forEach(e=>{s.includes(e)&&a.push(e)}),a}getConversationHistory(e,t){const s=g.getOrCreateSession(t,e);return s?.messages||[]}async getRelatedContext(e,t){const s=await this.getOrCreateUserProfile(e),a=s.previousConversations.filter(e=>e.agentId===t).slice(-5),i=[...new Set(a.flatMap(e=>e.topics))];return{previousSessions:a,relatedTopics:i,suggestedActions:this.generateSuggestedActions(s,t)}}generateConversationSummary(e){if(0===e.length)return"No previous conversation";const t=this.extractKeyTopics(e),s=e.filter(e=>"user"===e.role).length;return`Discussed ${t.join(", ")} over ${s} questions`}extractKeyTopics(e){const t=[],s=["startup","funding","investment","marketing","product","team","strategy","market","customer","revenue","growth","technology","competition"];return e.forEach(e=>{if(e.content){const a=e.content.toLowerCase();s.forEach(e=>{a.includes(e)&&!t.includes(e)&&t.push(e)})}}),t.slice(0,5)}generateBusinessContext(e,t){const s={},a={idea:["idea","concept","thinking about"],mvp:["mvp","prototype","minimum viable"],early:["launched","early customers","traction"],growth:["scaling","growth","expanding"],scale:["enterprise","large scale","international"]},i={"pre-seed":["pre-seed","friends and family"],seed:["seed round","seed funding"],"series-a":["series a","series-a"],"series-b":["series b","series-b"],later:["series c","growth stage"]},r=t.map(e=>e.content).join(" ").toLowerCase();for(const[n,l]of Object.entries(a))if(l.some(e=>r.includes(e))){s.companyStage=n;break}for(const[n,l]of Object.entries(i))if(l.some(e=>r.includes(e))){s.fundingStage=n;break}return s.industry=e.industry,s}generateSuggestedActions(e,t){return{"venture-launch":["Create business plan template","Market validation checklist","MVP development roadmap","Competitive analysis framework"],"meta3-investment":["Pitch deck review","Financial projections template","Investor research list","Due diligence preparation"],"meta3-research":["Market sizing analysis","Competitor landscape mapping","Industry trend report","Customer survey design"]}[t]||[]}saveUserProfile(e){try{localStorage.setItem(`user_profile_${e.id}`,JSON.stringify(e))}catch(t){}}loadUserProfile(e){try{const t=localStorage.getItem(`user_profile_${e}`);return t?JSON.parse(t):null}catch(t){return null}}};const Ee=new class{constructor(){t(this,"metrics",[]),t(this,"agentPerformance",new Map),t(this,"observers",[]),t(this,"startTime",Date.now()),this.initializeMonitoring()}initializeMonitoring(){if("PerformanceObserver"in window){try{const e=new PerformanceObserver(e=>{for(const t of e.getEntries())this.recordMetric({id:`long-task-${Date.now()}`,timestamp:new Date,category:"response_time",value:t.duration,metadata:{type:"long_task",name:t.name,startTime:t.startTime}})});e.observe({entryTypes:["longtask"]}),this.observers.push(e)}catch(e){}try{const e=new PerformanceObserver(e=>{for(const t of e.getEntries()){const e=t;this.recordMetric({id:`navigation-${Date.now()}`,timestamp:new Date,category:"response_time",value:e.loadEventEnd-e.loadEventStart,metadata:{type:"navigation",domContentLoaded:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,firstPaint:e.loadEventEnd-e.fetchStart}})}});e.observe({entryTypes:["navigation"]}),this.observers.push(e)}catch(e){}}this.startMemoryMonitoring(),this.startUserInteractionMonitoring()}recordMetric(e){this.metrics.push(e),this.metrics.length>1e3&&(this.metrics=this.metrics.slice(-1e3));try{const t=JSON.parse(localStorage.getItem("performance_metrics")||"[]");t.push({...e,timestamp:e.timestamp.toISOString()}),t.length>500&&t.splice(0,t.length-500),localStorage.setItem("performance_metrics",JSON.stringify(t))}catch(t){}}trackAgentInteraction(e,t,s,a,i){let r=this.agentPerformance.get(e);r||(r={agentId:e,agentName:t,totalRequests:0,averageResponseTime:0,successRate:100,errorCount:0,lastUsed:new Date,popularQueries:[]});const n=r.totalRequests+1,l=(r.averageResponseTime*r.totalRequests+s)/n,o=a?r.errorCount:r.errorCount+1,c=(n-o)/n*100;if(i&&a){const e=[...r.popularQueries];e.push(i),e.length>10&&e.shift(),r.popularQueries=e}const d={...r,totalRequests:n,averageResponseTime:l,successRate:c,errorCount:o,lastUsed:new Date};this.agentPerformance.set(e,d),this.recordMetric({id:`agent-${e}-${Date.now()}`,timestamp:new Date,category:"agent_usage",value:s,metadata:{agentId:e,agentName:t,success:a,query:i?.substring(0,100)}})}trackUserInteraction(e,t){this.recordMetric({id:`interaction-${Date.now()}`,timestamp:new Date,category:"user_interaction",value:1,metadata:{type:e,element:t,timestamp:Date.now()}})}trackError(e,t){this.recordMetric({id:`error-${Date.now()}`,timestamp:new Date,category:"error_rate",value:1,metadata:{message:e.message,stack:e.stack,context:t,userAgent:navigator.userAgent}})}getSystemHealth(){const e=Date.now(),t=this.metrics.filter(t=>e-t.timestamp.getTime()<3e5),s=t.filter(e=>"response_time"===e.category||"agent_usage"===e.category).map(e=>e.value),a=s.length>0?s.reduce((e,t)=>e+t,0)/s.length:0,i=t.filter(e=>"agent_usage"===e.category||"user_interaction"===e.category).length,r=t.filter(e=>"error_rate"===e.category).length,n=i>0?r/i*100:0,l=this.getCurrentMemoryUsage(),o=Math.max(0,100-a/100),c=Math.max(0,100-10*n),d=Math.max(0,100-l/1024/1024),m=Math.round((o+c+d)/3);let g;g=m>=90?"excellent":m>=75?"good":m>=60?"warning":"critical";const p=[];return a>3e3&&p.push("Response time is slow - consider optimizing agent processing"),n>5&&p.push("High error rate detected - check agent configurations"),l>104857600&&p.push("High memory usage - consider optimizing memory management"),{status:g,score:m,metrics:{responseTime:a,memoryUsage:l,errorRate:n,userSatisfaction:Math.max(0,100-5*n)},recommendations:p}}getAgentPerformance(){return Array.from(this.agentPerformance.values()).sort((e,t)=>t.totalRequests-e.totalRequests)}getMetrics(e,t){let s=this.metrics;return e&&(s=s.filter(t=>t.category===e)),t&&(s=s.filter(e=>e.timestamp>=t.start&&e.timestamp<=t.end)),s.sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime())}exportData(){const e={systemInfo:{userAgent:navigator.userAgent,screenResolution:`${screen.width}x${screen.height}`,viewport:`${window.innerWidth}x${window.innerHeight}`,sessionDuration:Date.now()-this.startTime},systemHealth:this.getSystemHealth(),agentPerformance:this.getAgentPerformance(),metrics:this.metrics.slice(-100),timestamp:(new Date).toISOString()};return JSON.stringify(e,null,2)}startMemoryMonitoring(){const e=()=>{const e=this.getCurrentMemoryUsage();this.recordMetric({id:`memory-${Date.now()}`,timestamp:new Date,category:"memory_usage",value:e,metadata:{type:"heap_usage",timestamp:Date.now()}})};setInterval(e,3e4),e()}startUserInteractionMonitoring(){let e;document.addEventListener("click",e=>{const t=e.target,s=t.tagName.toLowerCase()+(t.className?`.${t.className.split(" ")[0]}`:"")+(t.id?`#${t.id}`:"");this.trackUserInteraction("click",s)}),document.addEventListener("scroll",()=>{clearTimeout(e),e=setTimeout(()=>{this.trackUserInteraction("scroll",`y:${window.scrollY}`)},100)}),window.addEventListener("resize",()=>{this.trackUserInteraction("resize",`${window.innerWidth}x${window.innerHeight}`)})}getCurrentMemoryUsage(){if("memory"in performance){return performance.memory.usedJSHeapSize||0}return 0}destroy(){this.observers.forEach(e=>e.disconnect()),this.observers=[]}};window.addEventListener("error",e=>{Ee.trackError(new Error(e.message),"global_error")}),window.addEventListener("unhandledrejection",e=>{Ee.trackError(new Error(e.reason),"unhandled_promise")});const Fe=()=>{const[e,t]=r.useState(!1),[a,i]=r.useState([]),[l,o]=r.useState(""),[c,m]=r.useState(!1),[g,p]=r.useState({stage:"greeting",userData:{}}),[u,h]=r.useState(!1),x=r.useRef(null),y=r.useRef(null),f=n();r.useEffect(()=>{if(e&&0===a.length){const e={id:j(),text:"👋 Hello! I'm Meta3's AI assistant. I'm here to help you explore our venture studio, learn about investment opportunities, or answer any questions. How can I assist you today?",sender:"assistant",timestamp:new Date,options:[{label:"🚀 Learn about Meta3Ventures",value:"about"},{label:"💼 Investment opportunities",value:"investment"},{label:"📝 Apply for partnership",value:"apply"},{label:"📊 View portfolio",value:"portfolio"},{label:"💬 General inquiry",value:"general"}]};i([e])}},[e]),r.useEffect(()=>{b()},[a]);const b=()=>{x.current?.scrollIntoView({behavior:"smooth"})},j=()=>Math.random().toString(36).substring(2)+Date.now().toString(36),w=async()=>{if(!l.trim())return;const e={id:j(),text:l,sender:"user",timestamp:new Date};i(t=>[...t,e]),o(""),m(!0);const t=await N(l,g);setTimeout(()=>{m(!1),i(e=>[...e,t]),k(e,t)},1e3+1e3*Math.random())},N=async(e,t)=>{const s=Date.now();let a=!1;try{const i=S(),r=`user-${i}`,n=await _e.generateEnhancedContext(r,i,"virtual-assistant",e),l=await d.processMessage(e,{sessionId:i,userId:r,timestamp:new Date,metadata:{source:"virtual-assistant",userContext:t.userData,enhancedContext:{userProfile:n.userProfile,conversationSummary:n.conversationHistory.summary,currentIntent:n.currentSession.currentIntent,businessContext:n.businessContext,relatedTopics:n.relatedContext.relatedTopics}}});a=!0;const o=Date.now()-s;Ee.trackAgentInteraction("virtual-assistant","Virtual Assistant",o,!0,e);const c={id:j(),text:l.content,sender:"assistant",timestamp:new Date,attachments:l.attachments?.map(e=>({type:e.type,title:e.title,url:e.url}))};return e.toLowerCase().includes("invest")||e.toLowerCase().includes("funding")?p(e=>({...e,stage:"investment"})):(e.toLowerCase().includes("apply")||e.toLowerCase().includes("partner"))&&p(e=>({...e,stage:"onboarding"})),c}catch(i){const t=Date.now()-s;Ee.trackAgentInteraction("virtual-assistant","Virtual Assistant",t,!1,e),Ee.trackError(i,"virtual-assistant-processing");const a=e.toLowerCase();return a.includes("invest")||a.includes("funding")?(p(e=>({...e,stage:"investment"})),{id:j(),text:"I see you're interested in investment opportunities! Meta3Ventures focuses on early-stage AI and blockchain companies. We offer:",sender:"assistant",timestamp:new Date,attachments:[{type:"link",title:"💰 Investment criteria",url:"/services"},{type:"link",title:"📈 Portfolio performance",url:"/portfolio"},{type:"action",title:"📅 Schedule a call",action:()=>f("/contact")}],options:[{label:"View portfolio",value:"portfolio"},{label:"Investment process",value:"process"},{label:"Apply for funding",value:"apply"}]}):a.includes("apply")||a.includes("partner")?(p(e=>({...e,stage:"onboarding"})),{id:j(),text:"Great! I can help you start the partnership application process. First, could you tell me a bit about your company?",sender:"assistant",timestamp:new Date,options:[{label:"Start application",value:"start_apply",action:"/apply"},{label:"Learn requirements",value:"requirements"},{label:"View success stories",value:"portfolio"}]}):a.includes("blog")||a.includes("article")?{id:j(),text:"Our blog features insights on AI trends, venture capital, and technology innovation. Here are some popular topics:",sender:"assistant",timestamp:new Date,attachments:[{type:"link",title:"📚 Latest articles",url:"/blog"},{type:"link",title:"🤖 AI insights",url:"/blog?category=ai"},{type:"link",title:"💡 Thought leadership",url:"/blog?category=thought-leadership"}]}:a.includes("contact")||a.includes("reach")||a.includes("email")?{id:j(),text:"I'd be happy to connect you with our team! You can reach us through:",sender:"assistant",timestamp:new Date,attachments:[{type:"link",title:"📧 Contact form",url:"/contact"},{type:"action",title:"📅 Schedule meeting",action:()=>window.open("https://calendly.com/meta3ventures","_blank")}],options:[{label:"Send email",value:"email",action:"/contact"},{label:"Schedule call",value:"schedule"},{label:"View location",value:"location"}]}:"about"===e?{id:j(),text:"Meta3Ventures is an AI-focused venture studio and investment fund. We partner with visionary entrepreneurs to build transformative companies in AI, blockchain, and emerging technologies. Our unique approach combines capital, expertise, and strategic partnerships to accelerate growth.",sender:"assistant",timestamp:new Date,attachments:[{type:"link",title:"🎯 Our mission",url:"/about"},{type:"link",title:"🤝 Our partners",url:"/partners"},{type:"link",title:"⚡ Our services",url:"/services"}]}:"portfolio"===e?(f("/portfolio"),{id:j(),text:"I'm redirecting you to our portfolio page where you can explore our successful investments and case studies.",sender:"assistant",timestamp:new Date}):{id:j(),text:"I understand you're asking about: \""+e+'". Let me help you find the right information:',sender:"assistant",timestamp:new Date,options:[{label:"📞 Talk to team",value:"contact",action:"/contact"},{label:"📚 Browse resources",value:"resources",action:"/resources"},{label:"❓ FAQ",value:"faq"}]}}},k=(e,t)=>{const s=JSON.parse(localStorage.getItem("chat_conversations")||"[]");s.push({sessionId:S(),timestamp:(new Date).toISOString(),userMessage:e.text,assistantMessage:t.text,context:g}),localStorage.setItem("chat_conversations",JSON.stringify(s)),"undefined"!=typeof window&&window.gtag&&window.gtag("event","chat_interaction",{event_category:"engagement",event_label:g.stage,value:1})},S=()=>{let e=sessionStorage.getItem("chat_session_id");return e||(e=j(),sessionStorage.setItem("chat_session_id",e)),e};return s.jsxs(s.Fragment,{children:[!e&&s.jsxs("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 z-50 bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 group","aria-label":"Open chat assistant",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Q,{className:"w-6 h-6"}),s.jsx(Y,{className:"absolute -top-1 -right-1 w-4 h-4 text-yellow-300 animate-pulse"})]}),s.jsx("span",{className:"absolute right-full mr-3 top-1/2 -translate-y-1/2 bg-gray-900 text-white px-3 py-1 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:"Need help? Chat with our AI!"})]}),e&&s.jsx("div",{className:"fixed z-50 transition-all duration-300 "+(u?"bottom-6 right-6 w-72 h-16":"bottom-6 right-6 w-96 h-[600px] md:w-[450px] md:h-[650px]"),children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl flex flex-col h-full border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-4 rounded-t-2xl flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(v,{className:"w-8 h-8"}),s.jsx("span",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Meta3 AI Assistant"}),s.jsx("p",{className:"text-xs opacity-90",children:"Always here to help"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>h(!u),className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Minimize chat",children:s.jsx(X,{className:"w-5 h-5 transition-transform "+(u?"rotate-180":"")})}),s.jsx("button",{onClick:()=>{t(!1),i([]),p({stage:"greeting",userData:{}})},className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Close chat",children:s.jsx(Z,{className:"w-5 h-5"})})]})]}),!u&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.map(e=>s.jsx("div",{className:"flex "+("user"===e.sender?"justify-end":"justify-start"),children:s.jsx("div",{className:"max-w-[80%] "+("user"===e.sender?"order-2":"order-1"),children:s.jsxs("div",{className:"flex items-start gap-2",children:["assistant"===e.sender&&s.jsx("div",{className:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(v,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"px-4 py-3 rounded-2xl "+("user"===e.sender?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white"),children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.text})}),e.attachments&&s.jsx("div",{className:"mt-2 space-y-1",children:e.attachments.map((e,t)=>s.jsx("button",{onClick:()=>e.url?f(e.url):e.action?.(),className:"block w-full text-left px-3 py-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:s.jsx("span",{className:"text-sm text-indigo-600 dark:text-indigo-400",children:e.title})},t))}),e.options&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.options.map((e,t)=>s.jsx("button",{onClick:()=>{var t;(t=e).action?t.action.startsWith("/")?f(t.action):w():(o(t.value),w())},className:"px-3 py-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-full text-sm hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:e.label},t))}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),"user"===e.sender&&s.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(O,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})})},e.id)),c&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center",children:s.jsx(v,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),s.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-3 rounded-2xl",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),s.jsx("div",{ref:x})]}),s.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("form",{onSubmit:e=>{e.preventDefault(),w()},className:"flex gap-2",children:[s.jsx("input",{ref:y,type:"text",value:l,onChange:e=>o(e.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:c}),s.jsx("button",{type:"submit",disabled:!l.trim()||c,className:"p-2 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Send message",children:s.jsx(ee,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-2",children:"Powered by Meta3 AI • Your data is secure"})]})]})]})})]})};class Oe extends r.Component{constructor(e){super(e),t(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),this.props.onError&&this.props.onError(e,t);try{const s={timestamp:(new Date).toISOString(),error:e.toString(),stack:e.stack,componentStack:t.componentStack,userAgent:navigator.userAgent},a=localStorage.getItem("ai_advisor_errors"),i=a?JSON.parse(a):[];i.push(s),i.length>10&&i.shift(),localStorage.setItem("ai_advisor_errors",JSON.stringify(i))}catch(s){}}render(){return this.state.hasError?this.props.fallback?s.jsx(s.Fragment,{children:this.props.fallback}):s.jsxs("div",{className:"fixed bottom-6 right-6 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 max-w-sm z-50",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-full",children:s.jsx(te,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"AI Advisor Error"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Something went wrong with the advisor"})]})]}),!1,s.jsxs("button",{onClick:this.handleReset,className:"w-full px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:[s.jsx(se,{className:"h-4 w-4 mr-2"}),"Try Again"]})]}):this.props.children}}const ze=()=>s.jsx(s.Fragment,{children:s.jsx(Oe,{onError:(e,t)=>{}})}),Ue=()=>{const[e,t]=r.useState(!1),[a,i]=r.useState(!1),[n,o]=r.useState([]),[c,m]=r.useState(""),[g,h]=r.useState(!1),[x,y]=r.useState({stage:"seed",sessionId:`sfa-${Date.now()}`}),[f,b]=r.useState("assessment"),v=r.useRef(null),w=[{id:"assessment",name:"Readiness Assessment",icon:z,progress:0},{id:"preparation",name:"Preparation",icon:C,progress:0},{id:"materials",name:"Materials Creation",icon:ne,progress:0},{id:"outreach",name:"Investor Outreach",icon:I,progress:0},{id:"negotiation",name:"Negotiation",icon:le,progress:0},{id:"closing",name:"Closing & Legal",icon:oe,progress:0}];r.useEffect(()=>{if(e&&0===n.length){o([{id:"1",type:"advisor",content:"Welcome to the Strategic Fundraising Advisor! 💰\n\nI'm here to guide you through every aspect of your fundraising journey - from initial preparation to closing the deal. My approach is based on proven strategies from successful raises across hundreds of startups.\n\nLet's start by understanding where you are in your fundraising journey.",timestamp:new Date,stage:"preparation",insights:[{type:"tip",content:"Most successful fundraises take 3-6 months from start to close. Planning is crucial."}],actions:[{label:"Start Readiness Assessment",action:"assessment",primary:!0,icon:z},{label:"Review My Pitch Deck",action:"pitch-review",icon:C},{label:"Calculate Valuation",action:"valuation",icon:ae},{label:"Build Investor List",action:"investors",icon:I}]}])}},[e]),r.useEffect(()=>{N()},[n]);const N=()=>{v.current?.scrollIntoView({behavior:"smooth"})},k=async(e,t)=>{const s=Date.now().toString();try{const a=`Strategic Fundraising context: ${t||"general advice"}. Funding stage: ${x.stage}. Target: ${x.targetAmount?`$${x.targetAmount}`:"not specified"}`,i=await d.processMessage(e,{sessionId:x.sessionId,userId:"fundraising-advisor-user",timestamp:new Date,metadata:{component:"StrategicFundraisingAdvisor",actionType:t,context:a,fundingStage:x.stage,preferredAgent:"meta3-investment"}});return{id:s,type:"advisor",content:i.content,timestamp:new Date,stage:"preparation",attachments:i.attachments?.map(e=>({type:e.type,title:e.title,description:e.content,url:e.url,items:e.content?[e.content]:void 0,completed:void 0}))||[],insights:[{type:"tip",content:"Powered by AI - responses are tailored to your specific fundraising context and market conditions."}],actions:i.suggestedActions?.map(e=>({label:e.label,action:e.action,primary:!1,icon:ie}))||[]}}catch(i){u.error("AI fundraising advisor temporarily unavailable. Using backup response.")}const a=e.toLowerCase();return"assessment"===t||a.includes("ready")||a.includes("assess")?{id:s,type:"advisor",content:"Let's assess your fundraising readiness across key dimensions. This will help us identify strengths and areas needing attention.\n\n**Fundraising Readiness Assessment:**\n\nI'll evaluate your startup across 8 critical areas:\n1. **Traction & Metrics** - Revenue, growth rate, key KPIs\n2. **Team Strength** - Experience, completeness, advisory board\n3. **Market Opportunity** - TAM, growth potential, timing\n4. **Product Maturity** - Development stage, differentiation, IP\n5. **Business Model** - Unit economics, scalability, margins\n6. **Financial Planning** - Runway, burn rate, projections\n7. **Legal Structure** - Incorporation, cap table, IP ownership\n8. **Pitch Materials** - Deck quality, financial model, data room",timestamp:new Date,stage:"preparation",attachments:[{type:"checklist",title:"Pre-Fundraising Checklist",items:["Delaware C-Corp or equivalent structure","Clean cap table with vesting schedules","IP assignments from all contributors","12-18 months financial projections","Product roadmap for next 24 months","Key metrics dashboard","Customer references ready","Data room organized"],completed:Array(8).fill(!1)},{type:"calculator",title:"Readiness Score Calculator",description:"Calculate your fundraising readiness score based on 25+ factors"}],insights:[{type:"best-practice",content:"Companies with readiness scores above 75% close rounds 2x faster on average."}],actions:[{label:"Take Full Assessment",action:"full-assessment",primary:!0},{label:"Quick Score Check",action:"quick-score"},{label:"Gap Analysis",action:"gap-analysis"}]}:"pitch-review"===t||a.includes("pitch")||a.includes("deck")?{id:s,type:"advisor",content:"I'll help you create a compelling pitch deck that tells your story effectively. A great deck is crucial - investors often decide within the first 3 minutes.\n\n**Essential Pitch Deck Structure (10-15 slides):**\n\n1. **Title & Vision** - Company name, tagline, contact info\n2. **Problem** - Clear, relatable pain point with market evidence\n3. **Solution** - Your unique approach and why now\n4. **Product Demo** - Show, don't just tell\n5. **Market Opportunity** - TAM, SAM, SOM with sources\n6. **Business Model** - How you make money, unit economics\n7. **Traction** - Revenue, users, growth, partnerships\n8. **Competition** - Honest positioning and differentiation\n9. **Go-to-Market** - Customer acquisition strategy\n10. **Team** - Relevant experience and advisors\n11. **Financials** - Historical + 3-year projections\n12. **Ask** - Amount, use of funds, milestones\n\n**Bonus slides for appendix:** Technical architecture, customer testimonials, detailed financials",timestamp:new Date,stage:"preparation",attachments:[{type:"template",title:"Series A Pitch Deck Template",description:"Proven template used in $100M+ raises",url:"/templates/pitch-deck-series-a"},{type:"checklist",title:"Pitch Deck Review Criteria",items:["Clear problem statement in <30 seconds","Quantified market opportunity with sources","Compelling traction metrics above the fold","Realistic financial projections","Strong team slide with relevant experience","Clear use of funds tied to milestones","Professional design and consistent branding","Supporting data in appendix"]}],insights:[{type:"tip",content:"The average investor spends 3:44 reviewing a pitch deck. Make every slide count."},{type:"warning",content:"Avoid jargon and buzzwords. Use concrete metrics and examples instead."}],actions:[{label:"Review My Deck",action:"deck-review",primary:!0},{label:"Storytelling Tips",action:"storytelling"},{label:"Design Best Practices",action:"design-tips"}]}:"valuation"===t||a.includes("valuation")||a.includes("worth")?{id:s,type:"advisor",content:"Let's develop your valuation strategy. Setting the right valuation is crucial - too high and you'll struggle to raise, too low and you'll give away too much equity.\n\n**Valuation Framework:**\n\n**1. Market Comparables Method**\n• Recent rounds in your sector\n• Revenue multiples (3-15x ARR typical for SaaS)\n• User/customer multiples\n\n**2. Scorecard Method**\n• Team strength (0-30%)\n• Market size (0-25%)\n• Product/Technology (0-15%)\n• Competition (0-10%)\n• Marketing/Sales (0-10%)\n• Need for additional investment (0-5%)\n• Other factors (0-5%)\n\n**3. VC Method**\n• Exit valuation estimate\n• Target ROI (typically 10-30x)\n• Work backwards to current valuation\n\n**Current Market Benchmarks (2024):**\n• Pre-seed: $4-8M pre-money\n• Seed: $8-15M pre-money\n• Series A: $20-50M pre-money\n• Series B: $50-150M pre-money",timestamp:new Date,stage:"negotiation",attachments:[{type:"calculator",title:"Valuation Calculator",description:"Calculate your valuation using multiple methods"},{type:"resource",title:"Comparable Companies Database",description:"Recent funding rounds in your sector",url:"/resources/comparables"}],insights:[{type:"best-practice",content:"Leave room for negotiation. Start 20-30% above your target valuation."},{type:"tip",content:"Focus on building competitive tension rather than setting a high initial price."}],actions:[{label:"Calculate Valuation",action:"calc-valuation",primary:!0},{label:"View Comparables",action:"comparables"},{label:"Dilution Planning",action:"dilution"}]}:"investors"===t||a.includes("investor")||a.includes("vc")?{id:s,type:"advisor",content:"Let's build your investor outreach strategy. Success comes from targeting the right investors with the right message at the right time.\n\n**Investor Targeting Framework:**\n\n**1. Build Your Target List**\n• **Tier 1 (Dream):** 10-15 perfect-fit investors\n• **Tier 2 (Strong):** 20-30 good-fit investors\n• **Tier 3 (Backup):** 30-40 possible investors\n\n**2. Research Criteria**\n• Stage focus (matches your round)\n• Sector expertise (invested in similar companies)\n• Check size ($500K-$5M typical)\n• Geographic preference\n• Recent investment activity\n• Partner expertise\n\n**3. Outreach Strategy**\n• Start with Tier 3 to practice and refine pitch\n• Move to Tier 2 once you have momentum\n• Approach Tier 1 with strong traction/interest\n\n**4. Introduction Paths (ranked by effectiveness)**\n1. Warm intro from portfolio CEO (70% response rate)\n2. Warm intro from advisor/investor (50% response)\n3. Warm intro from service provider (30% response)\n4. Cold outreach with strong hook (5-10% response)",timestamp:new Date,stage:"execution",attachments:[{type:"template",title:"Investor CRM Template",description:"Track your fundraising pipeline",url:"/templates/investor-crm"},{type:"document",title:"Email Templates",description:"Proven outreach and follow-up templates"},{type:"checklist",title:"Investor Research Checklist",items:["Investment thesis alignment","Stage and check size match","Recent investments in sector","Partner background research","Portfolio company overlaps","Potential warm intro paths","Investment pace/frequency","Fund size and dry powder"]}],insights:[{type:"tip",content:'Create urgency with a clear timeline: "We\'re looking to close our round by [date]"'},{type:"best-practice",content:"Parallel process: aim to have 5-7 partner meetings per week during active fundraising."}],actions:[{label:"Build Investor List",action:"build-list",primary:!0},{label:"Craft Outreach Email",action:"email-template"},{label:"Find Warm Intros",action:"warm-intros"}]}:"due-diligence"===t||a.includes("diligence")||a.includes("data room")?{id:s,type:"advisor",content:"Due diligence can make or break your round. Being prepared accelerates closing and builds investor confidence. Let's get your data room ready.\n\n**Complete Data Room Structure:**\n\n**1. Corporate & Legal**\n• Certificate of incorporation\n• Bylaws and amendments\n• Cap table (detailed with vesting)\n• Stock purchase agreements\n• Board minutes and consents\n• IP assignments\n• Employment agreements\n• Vendor contracts\n\n**2. Financial**\n• Historical financials (3 years if available)\n• Monthly burn rate analysis\n• Revenue recognition policy\n• Customer cohort analysis\n• Unit economics breakdown\n• Financial projections (3-5 years)\n• Budget vs actuals\n\n**3. Product & Technology**\n• Product roadmap\n• Technical architecture\n• Security & compliance docs\n• Development methodology\n• Key technical hires plan\n\n**4. Sales & Marketing**\n• Sales pipeline and forecast\n• Customer contracts (redacted)\n• Customer references\n• Marketing strategy and CAC\n• Pricing strategy evolution\n\n**5. Team & Operations**\n• Org chart (current and planned)\n• Key hire pipeline\n• Compensation philosophy\n• Option pool planning",timestamp:new Date,stage:"execution",attachments:[{type:"checklist",title:"Data Room Checklist",items:["All corporate documents current","Financial statements reviewed","Customer contracts organized","IP assignments complete","Employment agreements signed","Cap table up to date","Board minutes documented","Regulatory compliance docs","Insurance policies current","Material contracts reviewed"]},{type:"template",title:"Data Room Index Template",description:"Professional data room organization",url:"/templates/data-room-index"}],insights:[{type:"warning",content:"Missing or poorly organized documents can delay closing by weeks. Prepare early."},{type:"tip",content:"Use a virtual data room service for professional presentation and tracking."}],actions:[{label:"Data Room Audit",action:"audit-dataroom",primary:!0},{label:"Legal Review Checklist",action:"legal-checklist"},{label:"Financial Deep Dive",action:"financial-prep"}]}:a.includes("term sheet")||a.includes("negotiat")?{id:s,type:"advisor",content:"Term sheet negotiation is where deals are won or lost. Let's ensure you understand the key terms and negotiation strategies.\n\n**Key Term Sheet Components:**\n\n**Economic Terms:**\n• **Valuation** - Pre/post-money distinction critical\n• **Option Pool** - Usually 10-20%, impacts dilution\n• **Liquidation Preference** - 1x non-participating standard\n• **Anti-dilution** - Broad-based weighted average preferred\n• **Dividends** - Non-cumulative typical\n\n**Control Terms:**\n• **Board Composition** - Balance is key\n• **Protective Provisions** - Standard vs overreaching\n• **Information Rights** - Monthly/quarterly reporting\n• **Pro-rata Rights** - Future round participation\n• **Drag Along/Tag Along** - Exit facilitation\n\n**Negotiation Strategies:**\n1. **Create Competition** - Multiple term sheets = leverage\n2. **Focus on What Matters** - Valuation, board control, liquidation\n3. **Trade-offs** - Give on small items to win big ones\n4. **Use Advisors** - Lawyers for terms, advisors for strategy\n5. **Think Long-term** - Consider future round implications\n\n**Red Flags to Avoid:**\n• Participating preferred (double-dip on exit)\n• Full ratchet anti-dilution\n• Excessive board control\n• Redemption rights\n• Multiple liquidation preference",timestamp:new Date,stage:"negotiation",attachments:[{type:"document",title:"Term Sheet Analyzer",description:"Understand the impact of each term"},{type:"resource",title:"Standard Terms Database",description:"Market standard terms by stage",url:"/resources/standard-terms"}],insights:[{type:"best-practice",content:"Get a experienced startup lawyer. The $10-20K cost pays for itself in better terms."},{type:"warning",content:"Never sign a term sheet without legal review, no matter the time pressure."}],actions:[{label:"Review My Term Sheet",action:"review-terms",primary:!0},{label:"Negotiation Simulator",action:"negotiate-sim"},{label:"Find Legal Counsel",action:"find-lawyer"}]}:a.includes("financial")||a.includes("model")||a.includes("projection")?{id:s,type:"advisor",content:"A robust financial model is essential for fundraising. It demonstrates your understanding of the business and path to profitability.\n\n**Financial Model Components:**\n\n**Revenue Model:**\n• Revenue streams breakdown\n• Pricing strategy and evolution\n• Customer acquisition forecast\n• Churn and retention assumptions\n• Market penetration timeline\n\n**Cost Structure:**\n• Fixed vs variable costs\n• Headcount plan by department\n• Customer acquisition costs (CAC)\n• Infrastructure and tool costs\n• Gross margin evolution\n\n**Key Metrics to Model:**\n• Monthly Recurring Revenue (MRR/ARR)\n• Gross margins (target 70-80% for SaaS)\n• CAC payback period (<12 months ideal)\n• LTV/CAC ratio (>3x healthy)\n• Burn rate and runway\n• Path to profitability\n\n**Scenario Planning:**\n• Base case (realistic)\n• Upside case (achievable with perfect execution)\n• Downside case (stress test)\n\n**Investor Expectations:**\n• 3-5 year projections\n• Monthly detail for Year 1\n• Quarterly for Years 2-3\n• Annual for Years 4-5\n• Clear assumptions documented",timestamp:new Date,attachments:[{type:"template",title:"SaaS Financial Model Template",description:"Complete model with all key metrics",url:"/templates/financial-model"},{type:"calculator",title:"Unit Economics Calculator",description:"Calculate CAC, LTV, and payback period"}],insights:[{type:"tip",content:"Build your model bottoms-up (customers × price) not top-down (% of market)."},{type:"best-practice",content:"Include sensitivity analysis to show understanding of key growth drivers."}],actions:[{label:"Build Financial Model",action:"build-model",primary:!0},{label:"Review Assumptions",action:"review-assumptions"},{label:"Benchmark Metrics",action:"benchmark"}]}:a.includes("closing")||a.includes("close the round")?{id:s,type:"advisor",content:"The closing process requires careful coordination. Let's ensure a smooth path from term sheet to wire transfer.\n\n**Closing Timeline (typically 3-6 weeks):**\n\n**Week 1-2: Final Diligence**\n• Complete any remaining diligence items\n• Final reference checks\n• Background checks on founders\n\n**Week 2-3: Legal Documentation**\n• Stock Purchase Agreement (SPA)\n• Investors' Rights Agreement (IRA)\n• Right of First Refusal Agreement (ROFR)\n• Voting Agreement\n• Side letters if applicable\n\n**Week 3-4: Final Steps**\n• Board approval and consents\n• Update cap table\n• File amended certificate\n• Issue stock certificates\n• Press release preparation\n\n**Critical Success Factors:**\n• Responsive legal counsel\n• Clean cap table\n• No surprise diligence issues\n• Clear communication with all parties\n• Parallel processing where possible\n\n**Common Delays to Avoid:**\n• Missing signatures\n• Unresolved IP assignments\n• Outstanding convertible notes\n• Regulatory approvals\n• Foreign investor complications",timestamp:new Date,stage:"closing",attachments:[{type:"checklist",title:"Closing Checklist",items:["Term sheet signed by all parties","Legal counsel engaged","Final diligence items cleared","Definitive agreements drafted","Board resolutions prepared","Wire instructions confirmed","Stock certificates ready","Press release drafted","Investor updates prepared","Celebration planned!"]},{type:"document",title:"Closing Timeline Template",description:"Detailed timeline with responsibilities"}],insights:[{type:"tip",content:"Maintain momentum - delays kill deals. Set clear deadlines and stick to them."},{type:"warning",content:"Don't announce publicly until wires are received. Things can still fall apart."}],actions:[{label:"Closing Checklist",action:"closing-checklist",primary:!0},{label:"Legal Timeline",action:"legal-timeline"},{label:"Post-Close Planning",action:"post-close"}]}:{id:s,type:"advisor",content:`I understand you're asking about "${e}". Let me provide strategic guidance on this.\n\nBased on your query, here are the key considerations:\n\n• Understand investor psychology and what they're looking for\n• Build a compelling narrative backed by strong metrics\n• Create competitive tension through parallel processing\n• Be prepared for extensive due diligence\n• Negotiate from a position of strength\n\nWhich specific aspect would you like to explore deeper?`,timestamp:new Date,insights:[{type:"tip",content:"Fundraising is a full-time job. Dedicate proper resources or it will take twice as long."}],actions:[{label:"Get Specific Advice",action:"specific-advice"},{label:"View Resources",action:"resources"},{label:"Connect with Experts",action:"experts"}]}},S=async()=>{if(!c.trim())return;const e={id:Date.now().toString(),type:"user",content:c,timestamp:new Date};o(t=>[...t,e]),m(""),h(!0),await l.storeFormSubmission({type:"chat",data:{message:c,context:"strategic-fundraising-advisor",sessionId:x.sessionId},metadata:{userAgent:navigator.userAgent,referrer:document.referrer,sessionId:x.sessionId}}),setTimeout(async()=>{const e=await k(c);o(t=>[...t,e]),h(!1)},1500)};return e?s.jsx(p,{agentName:"Strategic Fundraising Advisor",children:s.jsx("div",{className:`fixed ${a?"bottom-24 right-6":"bottom-0 right-0 sm:bottom-24 sm:right-6"} z-50 transition-all`,children:s.jsxs("div",{className:`bg-white dark:bg-gray-800 ${a?"w-80":"w-full sm:w-[500px]"} ${a?"h-14":"h-[600px]"} sm:rounded-lg shadow-2xl flex flex-col overflow-hidden transition-all`,children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 text-white p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ie,{className:"h-6 w-6"}),s.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-400 h-2 w-2 rounded-full animate-pulse"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:"Strategic Fundraising Advisor"}),!a&&s.jsx("p",{className:"text-xs text-green-100",children:"AI-Powered Fundraising Guidance"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>i(!a),className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":a?"Maximize":"Minimize",children:a?s.jsx(re,{className:"h-4 w-4"}):s.jsx(W,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>t(!1),className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Close",children:s.jsx(Z,{className:"h-4 w-4"})})]})]}),!a&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-300",children:"Fundraising Journey"}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"6 phases"})]}),s.jsx("div",{className:"flex space-x-1",children:w.map((e,t)=>{const a=e.icon;return s.jsxs("div",{className:"flex-1 relative group",onClick:()=>b(e.id),children:[s.jsx("div",{className:"h-2 rounded-full transition-all "+(f===e.id?"bg-green-500":e.progress>0?"bg-green-300":"bg-gray-300 dark:bg-gray-500"),children:s.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all",style:{width:`${e.progress}%`}})}),s.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsxs("div",{className:"bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:[s.jsx(a,{className:"h-3 w-3 inline mr-1"}),e.name]})})]},e.id)})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900",children:[n.map(e=>s.jsx("div",{className:`flex ${"user"===e.type?"justify-end":"justify-start"} animate-fadeIn`,children:s.jsxs("div",{className:"max-w-[85%] "+("user"===e.type?"order-2":"order-1"),children:["advisor"===e.type&&s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-full",children:s.jsx(ce,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Strategic Advisor"})]}),s.jsxs("div",{className:"rounded-lg p-4 "+("user"===e.type?"bg-gradient-to-r from-green-600 to-teal-600 text-white":"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 shadow-md"),children:[s.jsx("p",{className:"whitespace-pre-line text-sm leading-relaxed",children:e.content}),e.insights&&s.jsx("div",{className:"mt-4 space-y-2",children:e.insights.map((e,t)=>s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-lg "+("tip"===e.type?"bg-blue-50 dark:bg-blue-900/30":"warning"===e.type?"bg-yellow-50 dark:bg-yellow-900/30":"bg-green-50 dark:bg-green-900/30"),children:[s.jsx(B,{className:"h-4 w-4 mt-0.5 flex-shrink-0 "+("tip"===e.type?"text-blue-600 dark:text-blue-400":"warning"===e.type?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400")}),s.jsx("span",{className:"text-xs",children:e.content})]},t))}),e.attachments&&s.jsx("div",{className:"mt-4 space-y-2",children:e.attachments.map((e,t)=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-3 bg-gray-50 dark:bg-gray-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:["template"===e.type&&s.jsx(C,{className:"h-4 w-4 text-blue-600"}),"checklist"===e.type&&s.jsx(R,{className:"h-4 w-4 text-green-600"}),"calculator"===e.type&&s.jsx(ae,{className:"h-4 w-4 text-purple-600"}),"document"===e.type&&s.jsx(de,{className:"h-4 w-4 text-indigo-600"}),s.jsx("span",{className:"text-sm font-medium",children:e.title})]}),e.url&&s.jsx(me,{className:"h-3 w-3 text-gray-400"})]}),e.description&&s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:e.description}),e.items&&s.jsx("ul",{className:"space-y-1",children:e.items.map((e,t)=>s.jsxs("li",{className:"flex items-start text-xs",children:[s.jsx(R,{className:"h-3 w-3 mr-2 mt-0.5 text-gray-400 flex-shrink-0"}),s.jsx("span",{children:e})]},t))})]},t))}),e.actions&&s.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:e.actions.map((t,a)=>s.jsxs("button",{onClick:()=>(async e=>{h(!0),setTimeout(async()=>{const t=await k("",e);o(e=>[...e,t]),h(!1)},1e3)})(t.action),className:"px-3 py-1.5 rounded-full text-xs font-medium transition-all flex items-center space-x-1 "+(t.primary?"bg-white text-green-600 hover:bg-green-50 shadow-sm":"user"===e.type?"bg-green-500/20 text-white hover:bg-green-500/30":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[t.icon&&s.jsx(t.icon,{className:"h-3 w-3"}),s.jsx("span",{children:t.label})]},a))})]}),s.jsx("span",{className:"text-xs text-gray-400 mt-1 block",children:new Date(e.timestamp).toLocaleTimeString()})]})},e.id)),g&&s.jsx("div",{className:"flex justify-start animate-fadeIn",children:s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-md",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),s.jsx("div",{ref:v})]}),s.jsx("div",{className:"px-4 py-2 border-t dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:["Assess My Readiness","Review Pitch Deck","Valuation Strategy","Investor List","Due Diligence Prep","Term Sheet Review"].map((e,t)=>s.jsx("button",{onClick:()=>{m(e),S()},className:"px-3 py-1 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 hover:from-gray-200 hover:to-gray-300 dark:hover:from-gray-600 dark:hover:to-gray-500 rounded-full text-xs text-gray-700 dark:text-gray-300 transition-all",children:e},t))})}),s.jsx("div",{className:"px-4 py-2 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-t border-yellow-200 dark:border-yellow-800",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(j,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),s.jsxs("span",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:[s.jsx("strong",{children:"Coming Soon:"})," Full web app with advanced tools, investor matching, and collaborative features"]})]})}),s.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("form",{onSubmit:e=>{e.preventDefault(),S()},className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:c,onChange:e=>m(e.target.value),placeholder:"Ask about fundraising, pitch decks, valuations...",className:"flex-1 px-4 py-2 border dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white text-sm",disabled:g}),s.jsx("button",{type:"submit",disabled:g||!c.trim(),className:"bg-gradient-to-r from-green-600 to-teal-600 text-white p-2 rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all","aria-label":"Send message",children:s.jsx(ee,{className:"h-5 w-5"})})]})})]})]})})}):s.jsxs("button",{onClick:()=>t(!0),className:"fixed bottom-24 right-6 bg-gradient-to-r from-green-600 to-teal-600 text-white p-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all z-50 group","aria-label":"Open Strategic Fundraising Advisor",children:[s.jsx(ie,{className:"h-6 w-6"}),s.jsx("span",{className:"absolute -top-2 -right-2 bg-yellow-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-pulse",children:"$"}),s.jsx("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Strategic Fundraising Advisor"})]})};const qe=new class{constructor(){t(this,"agents",new Map),t(this,"activeSession",null),t(this,"messageQueue",new Map)}initializeAgents(){const e=[{id:"orchestrator",name:"Research Orchestrator",role:"orchestrator"},{id:"market",name:"Market Analyst",role:"market"},{id:"competitor",name:"Competitive Intelligence",role:"competitor"},{id:"customer",name:"Customer Insights",role:"customer"},{id:"usp",name:"USP Developer",role:"usp"},{id:"differentiation",name:"Differentiation Strategist",role:"differentiation"}].map(e=>({...e,status:"idle",findings:[]}));return e.forEach(e=>this.agents.set(e.id,e)),e}async startResearchSession(e){const t={id:`session-${Date.now()}`,companyName:e.companyName,industry:e.industry,startedAt:new Date,status:"initializing",agents:this.initializeAgents(),findings:[],competitors:[],recommendations:[]};return this.activeSession=t,await this.activateOrchestrator(e),t}async activateOrchestrator(e){const t=this.agents.get("orchestrator");if(!t)return;t.status="working",t.currentTask="Planning research strategy",await this.simulateDelay(1e3);const s=this.planResearchTasks(e).map(e=>this.delegateToAgent(e));await Promise.all(s),t.status="completed"}planResearchTasks(e){const t=[];return e.focusAreas&&!e.focusAreas.includes("market")||t.push({agentId:"market",task:`Analyze ${e.industry} market size, growth, and trends`}),e.focusAreas&&!e.focusAreas.includes("competitors")||t.push({agentId:"competitor",task:`Profile competitors in ${e.industry}: ${e.mainCompetitors?.join(", ")||"identify top players"}`}),e.focusAreas&&!e.focusAreas.includes("customers")||t.push({agentId:"customer",task:`Identify customer segments and pain points for ${e.targetMarket||e.industry}`}),e.focusAreas&&!e.focusAreas.includes("positioning")||t.push({agentId:"usp",task:`Develop unique value proposition for ${e.companyName}`}),e.focusAreas&&!e.focusAreas.includes("differentiation")||t.push({agentId:"differentiation",task:"Identify key differentiators vs competition"}),t}async delegateToAgent(e){const t=this.agents.get(e.agentId);if(t&&this.activeSession){switch(t.status="working",t.currentTask=e.task,t.progress=0,t.role){case"market":await this.conductMarketAnalysis(t);break;case"competitor":await this.conductCompetitorAnalysis(t);break;case"customer":await this.conductCustomerResearch(t);break;case"usp":await this.developUSP(t);break;case"differentiation":await this.analyzeDifferentiation(t)}t.status="completed",t.progress=100}}async conductMarketAnalysis(e){if(!this.activeSession)return;for(let a=0;a<=100;a+=20)e.progress=a,await this.simulateDelay(500);const t={marketSize:{tam:1e9*Math.floor(100*Math.random()+50),sam:1e9*Math.floor(20*Math.random()+10),som:1e9*Math.floor(5*Math.random()+1)},growthRate:30*Math.random()+10,trends:[{name:"AI Integration",impact:"positive",description:"Increasing adoption of AI technologies driving efficiency",timeframe:"2024-2026"},{name:"Regulatory Changes",impact:"neutral",description:"New data privacy regulations affecting operations",timeframe:"2024-2025"},{name:"Market Consolidation",impact:"negative",description:"Larger players acquiring smaller competitors",timeframe:"2024-2027"}],segments:[{name:"Enterprise",size:60,growth:15,attractiveness:8},{name:"Mid-Market",size:30,growth:25,attractiveness:9},{name:"SMB",size:10,growth:35,attractiveness:7}],barriers:[{type:"entry",description:"High initial capital requirements",severity:"high"},{type:"switching",description:"Integration complexity with existing systems",severity:"medium"}]};this.activeSession.marketAnalysis=t;const s=[{id:`finding-${Date.now()}-1`,agentId:e.id,type:"insight",category:"market-size",content:`Total addressable market is $${(t.marketSize.tam/1e9).toFixed(1)}B with ${t.growthRate.toFixed(1)}% annual growth`,confidence:85,timestamp:new Date,priority:"high"},{id:`finding-${Date.now()}-2`,agentId:e.id,type:"opportunity",category:"market-segment",content:"Mid-market segment shows highest growth potential at 25% with lower competition",confidence:78,timestamp:new Date,priority:"high"},{id:`finding-${Date.now()}-3`,agentId:e.id,type:"warning",category:"market-risk",content:"Market consolidation trend could limit growth opportunities for new entrants",confidence:72,timestamp:new Date,priority:"medium"}];e.findings=s,this.activeSession.findings.push(...s)}async conductCompetitorAnalysis(e){if(!this.activeSession)return;for(let s=0;s<=100;s+=25)e.progress=s,await this.simulateDelay(600);this.activeSession.competitors=[{id:"comp-1",name:"TechCorp Solutions",website:"https://techcorp.example",description:"Market leader in enterprise solutions",strengths:["Brand recognition","Large customer base","Strong R&D"],weaknesses:["High pricing","Slow innovation cycle","Poor SMB support"],marketShare:35,funding:{total:5e8,lastRound:"Series D",investors:["Sequoia Capital","Andreessen Horowitz"]},products:[{name:"Enterprise Suite",description:"Comprehensive business management platform",pricing:"$50,000-500,000/year",features:["CRM","ERP","Analytics","Automation"]}],positioning:"Premium enterprise solution provider",targetMarket:["Fortune 500","Large enterprises"],keyDifferentiators:["Scale","Integration depth","24/7 support"]},{id:"comp-2",name:"AgileTech",website:"https://agiletech.example",description:"Fast-growing mid-market disruptor",strengths:["Innovative features","Competitive pricing","User-friendly"],weaknesses:["Limited scale","Smaller ecosystem","Brand awareness"],marketShare:15,funding:{total:15e7,lastRound:"Series C",investors:["Accel","Lightspeed Venture Partners"]},products:[{name:"AgileSuite",description:"Modern business platform for growing companies",pricing:"$5,000-50,000/year",features:["Cloud-native","AI-powered","Mobile-first","API-driven"]}],positioning:"Modern alternative for progressive businesses",targetMarket:["Mid-market","Tech-forward companies"],keyDifferentiators:["Speed of deployment","Modern UX","Flexibility"]}];const t=[{id:`finding-${Date.now()}-4`,agentId:e.id,type:"insight",category:"competitive-gap",content:"Gap identified: No major player focusing exclusively on AI-first solutions for SMBs",confidence:82,timestamp:new Date,priority:"critical"},{id:`finding-${Date.now()}-5`,agentId:e.id,type:"opportunity",category:"competitive-weakness",content:"Market leader TechCorp has poor SMB support and high pricing - opportunity for disruption",confidence:88,timestamp:new Date,priority:"high"},{id:`finding-${Date.now()}-6`,agentId:e.id,type:"data",category:"pricing-strategy",content:"Pricing sweet spot identified: $10,000-30,000/year for mid-market",confidence:75,timestamp:new Date,priority:"medium"}];e.findings=t,this.activeSession.findings.push(...t)}async conductCustomerResearch(e){if(!this.activeSession)return;for(let s=0;s<=100;s+=33)e.progress=s,await this.simulateDelay(400);const t=[{id:`finding-${Date.now()}-7`,agentId:e.id,type:"insight",category:"customer-pain",content:"Primary pain point: 73% of customers struggle with integration complexity",confidence:91,timestamp:new Date,priority:"critical"},{id:`finding-${Date.now()}-8`,agentId:e.id,type:"data",category:"customer-preference",content:"Customers prioritize: 1) Ease of use (89%), 2) ROI clarity (76%), 3) Support quality (68%)",confidence:87,timestamp:new Date,priority:"high"},{id:`finding-${Date.now()}-9`,agentId:e.id,type:"recommendation",category:"customer-segment",content:"Focus on tech-savvy mid-market companies with 50-500 employees as primary segment",confidence:79,timestamp:new Date,priority:"high"}];e.findings=t,this.activeSession.findings.push(...t)}async developUSP(e){if(!this.activeSession)return;await this.simulateDelay(1500);const t={targetCustomer:{demographics:["Mid-market companies","50-500 employees","Tech-forward industries"],psychographics:["Innovation-driven","Growth-focused","Efficiency-seeking"],painPoints:["Integration complexity","High costs","Slow implementation"],jobs:["Scale operations","Improve efficiency","Reduce costs","Drive innovation"]},valueProposition:{headline:"AI-First Business Platform That Actually Works",subheadline:"Go from sign-up to value in days, not months",uniqueBenefits:["Setup in hours with AI-guided configuration","Predictive insights from day one","Pay only for what you use"],emotionalBenefits:["Confidence in decisions","Peace of mind","Pride in innovation"],functionalBenefits:["50% faster deployment","30% cost reduction","2x productivity gains"]},differentiators:[{feature:"AI-Powered Setup",competitorComparison:[{competitor:"TechCorp",theirOffering:"3-6 month implementation with consultants",ourAdvantage:"AI configures system in hours based on your needs"}],proofPoints:["Patent-pending AI configuration","500+ successful deployments"]}],positioning:{statement:"For growing companies who need enterprise capabilities without enterprise complexity",category:"AI-First Business Platform",forWho:"tech-forward mid-market companies",uniqueBecause:"we use AI to eliminate 90% of traditional setup and management overhead",unlike:"legacy enterprise solutions that require armies of consultants"}};this.activeSession.uspCanvas=t;const s=[{id:`finding-${Date.now()}-10`,agentId:e.id,type:"recommendation",category:"positioning",content:t.positioning.statement,confidence:85,timestamp:new Date,priority:"critical"}];e.findings=s,this.activeSession.findings.push(...s)}async analyzeDifferentiation(e){if(!this.activeSession)return;await this.simulateDelay(1200);this.activeSession.swot={strengths:[{id:"s1",description:"AI-first architecture from ground up",impact:5,category:"technology"},{id:"s2",description:"Rapid deployment capability",impact:4,category:"operations"}],weaknesses:[{id:"w1",description:"Limited brand recognition",impact:3,category:"marketing"},{id:"w2",description:"Smaller partner ecosystem",impact:3,category:"partnerships"}],opportunities:[{id:"o1",description:"Growing demand for AI solutions",impact:5,likelihood:5,category:"market"},{id:"o2",description:"Competitor struggles with legacy tech",impact:4,likelihood:4,category:"competitive"}],threats:[{id:"t1",description:"Big tech entering the market",impact:4,likelihood:3,category:"competitive"},{id:"t2",description:"Economic downturn affecting IT budgets",impact:3,likelihood:3,category:"economic"}]};this.activeSession.landscape={dimensions:{x:{label:"Innovation",min:0,max:100},y:{label:"Market Share",min:0,max:100}},players:[{name:"TechCorp",x:30,y:70,size:35,color:"#FF6B6B",isUs:!1},{name:"AgileTech",x:70,y:30,size:15,color:"#4ECDC4",isUs:!1},{name:"Us",x:85,y:15,size:5,color:"#45B7D1",isUs:!0}],quadrants:[{name:"Leaders",description:"High share, high innovation",x:50,y:50,width:50,height:50},{name:"Challengers",description:"High share, low innovation",x:0,y:50,width:50,height:50},{name:"Innovators",description:"Low share, high innovation",x:50,y:0,width:50,height:50},{name:"Niche",description:"Low share, low innovation",x:0,y:0,width:50,height:50}]};const t=[{id:`finding-${Date.now()}-11`,agentId:e.id,type:"recommendation",category:"differentiation",content:'Position as "AI-Native Challenger" - leverage innovation advantage against incumbent inertia',confidence:88,timestamp:new Date,priority:"critical"}];e.findings=t,this.activeSession.findings.push(...t)}async synthesizeFindings(){this.activeSession&&(this.activeSession.status="synthesizing",this.activeSession.recommendations=[{category:"Positioning",priority:"critical",description:'Position as the "AI-First Alternative" to legacy enterprise solutions',rationale:"Leverages our core AI strength against competitor weakness",expectedImpact:"3x improvement in qualified lead conversion",timeframe:"Immediate",resources:["Marketing team","Product messaging","Website update"]},{category:"Go-to-Market",priority:"high",description:"Focus on mid-market tech companies as beachhead market",rationale:"Highest growth potential with lowest competitive density",expectedImpact:"$10M ARR within 18 months",timeframe:"3-6 months",resources:["Sales team expansion","Targeted marketing campaigns"]},{category:"Product",priority:"high",description:'Build "5-minute setup" feature as key differentiator',rationale:"Directly addresses #1 customer pain point of integration complexity",expectedImpact:"50% reduction in sales cycle",timeframe:"6-9 months",resources:["Engineering team","AI/ML resources","UX design"]},{category:"Partnerships",priority:"medium",description:"Establish strategic partnerships with system integrators",rationale:"Compensate for limited brand recognition and ecosystem",expectedImpact:"30% of revenue from partner channel",timeframe:"6-12 months",resources:["Partnership team","Partner portal","Training materials"]}],this.activeSession.status="completed",this.activeSession.completedAt=new Date)}simulateDelay(e){return new Promise(t=>setTimeout(t,e))}getCurrentSession(){return this.activeSession}getAgent(e){return this.agents.get(e)}sendMessageToAgent(e,t,s){this.messageQueue.has(t)||this.messageQueue.set(t,[]),this.messageQueue.get(t)?.push({from:e,message:s,timestamp:new Date})}getAgentMessages(e){const t=this.messageQueue.get(e)||[];return this.messageQueue.set(e,[]),t}},Be=()=>{const[e,t]=r.useState(!1),[a,i]=r.useState(!1),[n,o]=r.useState("setup"),[c,d]=r.useState(null),[m,g]=r.useState(!1),[u,h]=r.useState(null),[x,y]=r.useState("dashboard"),[f,v]=r.useState({companyName:"",industry:"",currentDescription:"",targetMarket:"",mainCompetitors:[],currentUSP:"",researchDepth:"standard",focusAreas:[]}),j=r.useRef(null),w={orchestrator:N,market:ce,competitor:_,customer:I,usp:ye,differentiation:oe};r.useEffect(()=>(m&&c&&(j.current=setInterval(()=>{const e=qe.getCurrentSession();e&&(d({...e}),"completed"===e.status&&(g(!1),o("results"),j.current&&clearInterval(j.current)))},1e3)),()=>{j.current&&clearInterval(j.current)}),[m,c]);return e?s.jsx(p,{agentName:"Competitive Intelligence System",children:s.jsx("div",{className:`fixed ${a?"bottom-44 right-6":"inset-0"} z-50 transition-all`,children:s.jsxs("div",{className:`bg-white dark:bg-gray-800 ${a?"w-96 h-14":"w-full h-full"} ${!a&&"sm:inset-4"} sm:rounded-lg shadow-2xl flex flex-col overflow-hidden transition-all`,children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-blue-600 text-white p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(N,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:"Competitive Intelligence System"}),!a&&s.jsx("p",{className:"text-xs text-indigo-100",children:"Multi-Agent Research & USP Development"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>i(!a),className:"p-1 hover:bg-white/20 rounded transition-colors",children:a?s.jsx(re,{className:"h-4 w-4"}):s.jsx(W,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>t(!1),className:"p-1 hover:bg-white/20 rounded transition-colors",children:s.jsx(Z,{className:"h-4 w-4"})})]})]}),!a&&s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsxs("div",{className:"w-64 bg-gray-50 dark:bg-gray-900 border-r dark:border-gray-700 p-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>o("setup"),className:"w-full text-left px-3 py-2 rounded-lg transition-colors "+("setup"===n?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"hover:bg-gray-100 dark:hover:bg-gray-800"),children:[s.jsx(ge,{className:"h-4 w-4 inline mr-2"}),"Setup Research"]}),s.jsxs("button",{onClick:()=>o("research"),disabled:!c,className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${"research"===n?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"hover:bg-gray-100 dark:hover:bg-gray-800"} ${!c&&"opacity-50 cursor-not-allowed"}`,children:[s.jsx(N,{className:"h-4 w-4 inline mr-2"}),"Agent Activity"]}),s.jsxs("button",{onClick:()=>o("results"),disabled:!c||"completed"!==c.status,className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${"results"===n?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"hover:bg-gray-100 dark:hover:bg-gray-800"} ${(!c||"completed"!==c.status)&&"opacity-50 cursor-not-allowed"}`,children:[s.jsx(C,{className:"h-4 w-4 inline mr-2"}),"Results & Insights"]})]}),c&&"results"===n&&s.jsxs("div",{className:"mt-6 space-y-2",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"View Options"}),s.jsxs("button",{onClick:()=>y("dashboard"),className:"w-full text-left px-3 py-2 rounded text-sm "+("dashboard"===x?"bg-gray-200 dark:bg-gray-700":""),children:[s.jsx(pe,{className:"h-3 w-3 inline mr-2"}),"Dashboard"]}),s.jsxs("button",{onClick:()=>y("findings"),className:"w-full text-left px-3 py-2 rounded text-sm "+("findings"===x?"bg-gray-200 dark:bg-gray-700":""),children:[s.jsx(ue,{className:"h-3 w-3 inline mr-2"}),"All Findings"]}),s.jsxs("button",{onClick:()=>y("swot"),className:"w-full text-left px-3 py-2 rounded text-sm "+("swot"===x?"bg-gray-200 dark:bg-gray-700":""),children:[s.jsx(he,{className:"h-3 w-3 inline mr-2"}),"SWOT Analysis"]}),s.jsxs("button",{onClick:()=>y("landscape"),className:"w-full text-left px-3 py-2 rounded text-sm "+("landscape"===x?"bg-gray-200 dark:bg-gray-700":""),children:[s.jsx(xe,{className:"h-3 w-3 inline mr-2"}),"Landscape"]}),s.jsxs("button",{onClick:()=>y("competitors"),className:"w-full text-left px-3 py-2 rounded text-sm "+("competitors"===x?"bg-gray-200 dark:bg-gray-700":""),children:[s.jsx(_,{className:"h-3 w-3 inline mr-2"}),"Competitors"]})]}),"completed"===c?.status&&s.jsxs("button",{onClick:()=>{if(!c)return;const e={session:c,exportedAt:(new Date).toISOString(),format:"competitive-intelligence-report"},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`competitive-intelligence-${c.companyName}-${Date.now()}.json`,a.click()},className:"w-full mt-6 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:[s.jsx(b,{className:"h-4 w-4 mr-2"}),"Export Report"]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:["setup"===n&&s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Setup Competitive Research"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company Name *"}),s.jsx("input",{type:"text",value:f.companyName,onChange:e=>v({...f,companyName:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600",placeholder:"Your company name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Industry *"}),s.jsx("input",{type:"text",value:f.industry,onChange:e=>v({...f,industry:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600",placeholder:"e.g., SaaS, E-commerce, FinTech"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Current Description"}),s.jsx("textarea",{value:f.currentDescription,onChange:e=>v({...f,currentDescription:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600",rows:3,placeholder:"Brief description of what your company does"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Target Market"}),s.jsx("input",{type:"text",value:f.targetMarket,onChange:e=>v({...f,targetMarket:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600",placeholder:"e.g., SMBs, Enterprise, Consumers"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Main Competitors"}),s.jsx("input",{type:"text",onChange:e=>v({...f,mainCompetitors:e.target.value.split(",").map(e=>e.trim())}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600",placeholder:"Comma-separated list of competitors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Research Depth"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:["quick","standard","comprehensive"].map(e=>s.jsx("button",{onClick:()=>v({...f,researchDepth:e}),className:"px-4 py-2 rounded-lg border transition-colors "+(f.researchDepth===e?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 dark:border-gray-600 hover:border-indigo-400"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Focus Areas"}),s.jsx("div",{className:"space-y-2",children:["market","competitors","customers","positioning","differentiation"].map(e=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:f.focusAreas?.includes(e)||!1,onChange:t=>{t.target.checked?v({...f,focusAreas:[...f.focusAreas||[],e]}):v({...f,focusAreas:f.focusAreas?.filter(t=>t!==e)})},className:"mr-2"}),s.jsxs("span",{className:"capitalize",children:[e," Analysis"]})]},e))})]}),s.jsx("button",{onClick:async()=>{if(!f.companyName||!f.industry)return void alert("Please provide company name and industry");g(!0),o("research"),await l.storeFormSubmission({type:"chat",data:{context:"competitive-intelligence",request:f,timestamp:(new Date).toISOString()},metadata:{userAgent:navigator.userAgent,referrer:document.referrer,sessionId:`ci-${Date.now()}`}});const e=await qe.startResearchSession(f);d(e),setTimeout(async()=>{await qe.synthesizeFindings();const e=qe.getCurrentSession();e&&(d({...e}),g(!1),o("results"))},8e3)},disabled:m||!f.companyName||!f.industry,className:"w-full py-3 bg-gradient-to-r from-indigo-600 to-blue-600 text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:m?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsx(se,{className:"h-5 w-5 mr-2 animate-spin"}),"Researching..."]}):s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsx(E,{className:"h-5 w-5 mr-2"}),"Start Multi-Agent Research"]})})]})]}),"research"===n&&c&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Research in Progress"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Multiple AI agents are analyzing your competitive landscape"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:c.agents.map(e=>(e=>{const t=w[e.role]||N;return s.jsxs("div",{onClick:()=>h(e.id),className:`p-4 rounded-lg border-2 transition-all cursor-pointer ${u===e.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"} ${"working"===e.status?"animate-pulse":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(t,{className:"h-5 w-5 "+("completed"===e.status?"text-green-600":"working"===e.status?"text-blue-600":"error"===e.status?"text-red-600":"text-gray-400")}),s.jsx("span",{className:"font-medium text-sm",children:e.name})]}),s.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+("completed"===e.status?"bg-green-100 text-green-700":"working"===e.status?"bg-blue-100 text-blue-700":"error"===e.status?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:e.status})]}),e.currentTask&&s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:e.currentTask}),void 0!==e.progress&&"working"===e.status&&s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${e.progress}%`}})}),e.findings&&e.findings.length>0&&s.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[e.findings.length," findings"]})]},e.id)})(e))}),u&&s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6",children:[s.jsxs("h3",{className:"font-bold mb-4",children:[c.agents.find(e=>e.id===u)?.name," Activity"]}),s.jsx("div",{className:"space-y-3",children:c.agents.find(e=>e.id===u)?.findings?.map(e=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded p-3",children:[s.jsx("p",{className:"text-sm",children:e.content}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()})]},e.id))})]})]}),"results"===n&&"completed"===c?.status&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Research Complete"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Analysis for ",c.companyName," in ",c.industry]})]}),"dashboard"===x&&s.jsxs("div",{className:"space-y-6",children:[c.uspCanvas&&s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-indigo-900/20 dark:to-blue-900/20 rounded-lg p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-4",children:"Recommended USP"}),s.jsx("h4",{className:"text-2xl font-bold text-indigo-700 dark:text-indigo-300 mb-2",children:c.uspCanvas.valueProposition.headline}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:c.uspCanvas.valueProposition.subheadline}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded p-4",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Positioning Statement:"}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:c.uspCanvas.positioning.statement})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-4",children:"Strategic Recommendations"}),s.jsx("div",{className:"space-y-4",children:c.recommendations.slice(0,3).map((e,t)=>s.jsxs("div",{className:"border-l-4 border-indigo-500 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h4",{className:"font-medium",children:e.description}),s.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+("critical"===e.priority?"bg-red-100 text-red-700":"high"===e.priority?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"),children:e.priority})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.rationale}),s.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[s.jsxs("span",{children:["Impact: ",e.expectedImpact]}),s.jsxs("span",{children:["Timeline: ",e.timeframe]})]})]},t))})]}),c.marketAnalysis&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-4",children:"Market Analysis"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-3xl font-bold text-indigo-600 dark:text-indigo-400",children:["$",(c.marketAnalysis.marketSize.tam/1e9).toFixed(1),"B"]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"TAM"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[c.marketAnalysis.growthRate.toFixed(1),"%"]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Growth Rate"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:c.marketAnalysis.segments.length}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Segments"})]})]})]})]}),"findings"===x&&(()=>{if(!c?.findings)return null;const e={critical:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300",high:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300",medium:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300",low:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"},t={insight:ye,data:fe,recommendation:_,warning:te,opportunity:ce};return s.jsx("div",{className:"space-y-4",children:c.findings.map(a=>{const i=t[a.type]||C;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(i,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"}),s.jsx("span",{className:"font-medium text-sm",children:a.category})]}),a.priority&&s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${e[a.priority]}`,children:a.priority})]}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:a.content}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:["Confidence: ",a.confidence,"%"]}),s.jsx("span",{children:new Date(a.timestamp).toLocaleTimeString()})]})]},a.id)})})})(),"swot"===x&&(()=>{if(!c?.swot)return null;const e=[{title:"Strengths",items:c.swot.strengths,color:"green"},{title:"Weaknesses",items:c.swot.weaknesses,color:"red"},{title:"Opportunities",items:c.swot.opportunities,color:"blue"},{title:"Threats",items:c.swot.threats,color:"orange"}];return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(e=>s.jsxs("div",{className:`bg-${e.color}-50 dark:bg-${e.color}-900/20 rounded-lg p-4`,children:[s.jsx("h3",{className:`font-bold text-${e.color}-700 dark:text-${e.color}-400 mb-3`,children:e.title}),s.jsx("ul",{className:"space-y-2",children:e.items.map(t=>s.jsxs("li",{className:"flex items-start",children:[s.jsxs("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:["• ",t.description]}),s.jsxs("span",{className:`ml-2 text-xs text-${e.color}-600 dark:text-${e.color}-400`,children:["(",t.impact,"/5)"]})]},t.id))})]},e.title))})})(),"landscape"===x&&(c?.landscape?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-4",children:"Competitive Positioning Map"}),s.jsxs("div",{className:"relative h-96 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[c.landscape.quadrants?.map(e=>s.jsx("div",{className:"absolute text-xs text-gray-500 dark:text-gray-400",style:{left:`${e.x}%`,top:100-e.y-e.height+"%",width:`${e.width}%`,height:`${e.height}%`},children:s.jsx("div",{className:"p-2",children:s.jsx("span",{className:"font-medium",children:e.name})})},e.name)),s.jsxs("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 text-xs text-gray-600",children:[c.landscape.dimensions.x.label," →"]}),s.jsxs("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -rotate-90 text-xs text-gray-600",children:[c.landscape.dimensions.y.label," →"]}),c.landscape.players.map(e=>s.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 "+(e.isUs?"z-10":""),style:{left:`${e.x}%`,bottom:`${e.y}%`},children:s.jsx("div",{className:"rounded-full flex items-center justify-center text-white text-xs font-medium "+(e.isUs?"ring-4 ring-indigo-300 animate-pulse":""),style:{backgroundColor:e.color,width:10*Math.sqrt(e.size)+"px",height:10*Math.sqrt(e.size)+"px"},children:e.name})},e.name))]}),s.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-6 text-xs",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-indigo-500 mr-1"}),"Us"]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500 mr-1"}),"Competitors"]}),s.jsx("span",{className:"text-gray-500",children:"Bubble size = Market share"})]})]}):null),"competitors"===x&&(c?.competitors&&0!==c.competitors.length?s.jsx("div",{className:"space-y-4",children:c.competitors.map(e=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]}),e.marketShare&&s.jsxs("span",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:[e.marketShare,"%"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-green-700 dark:text-green-400 mb-2",children:"Strengths"}),s.jsx("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:e.strengths.map((e,t)=>s.jsxs("li",{children:["• ",e]},t))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-red-700 dark:text-red-400 mb-2",children:"Weaknesses"}),s.jsx("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:e.weaknesses.map((e,t)=>s.jsxs("li",{children:["• ",e]},t))})]})]}),e.funding&&s.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded",children:s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Funding: $",(e.funding.total/1e6).toFixed(0),"M (",e.funding.lastRound,")"]})})]},e.id))}):null)]})]})]})]})})}):s.jsxs("button",{onClick:()=>t(!0),className:"fixed bottom-44 right-6 bg-gradient-to-r from-indigo-600 to-blue-600 text-white p-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all z-50 group","aria-label":"Open Competitive Intelligence System",children:[s.jsx(N,{className:"h-6 w-6"}),s.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-pulse",children:"AI"}),s.jsx("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Competitive Intelligence System"})]})},Ve=class e{constructor(){t(this,"metrics",[]),t(this,"observers",[]),t(this,"startTime",performance.now()),t(this,"isMonitoring",!1),this.initializeMonitoring()}static getInstance(){return e.instance||(e.instance=new e),e.instance}initializeMonitoring(){"undefined"!=typeof window&&(this.observeWebVitals(),this.observeResourceLoading(),this.observeUserInteractions(),this.observeSystemResources(),this.isMonitoring=!0)}observeWebVitals(){try{const e=new PerformanceObserver(e=>{for(const t of e.getEntries())this.recordMetric({id:`lcp-${Date.now()}`,timestamp:new Date,category:"page_load",name:"largest_contentful_paint",value:t.startTime,unit:"ms",tags:{type:"web_vital"}})});e.observe({type:"largest-contentful-paint",buffered:!0}),this.observers.push(e)}catch(e){}try{const e=new PerformanceObserver(e=>{for(const t of e.getEntries())this.recordMetric({id:`fid-${Date.now()}`,timestamp:new Date,category:"user_interaction",name:"first_input_delay",value:t.processingStart-t.startTime,unit:"ms",tags:{type:"web_vital"}})});e.observe({type:"first-input",buffered:!0}),this.observers.push(e)}catch(e){}}observeResourceLoading(){try{const e=new PerformanceObserver(e=>{for(const t of e.getEntries())if("resource"===t.entryType){const e=t;this.recordMetric({id:`resource-${Date.now()}`,timestamp:new Date,category:"page_load",name:"resource_load_time",value:e.responseEnd-e.startTime,unit:"ms",tags:{resource_type:e.initiatorType,resource_name:e.name.split("/").pop()||"unknown"}})}});e.observe({type:"resource",buffered:!0}),this.observers.push(e)}catch(e){}}observeUserInteractions(){if("undefined"==typeof window)return;["click","keydown","scroll","resize"].forEach(e=>{window.addEventListener(e,t=>{this.recordMetric({id:`interaction-${Date.now()}`,timestamp:new Date,category:"user_interaction",name:e,value:1,unit:"count",tags:{element:t.target?.tagName?.toLowerCase()||"unknown",page:window.location.pathname}})},{passive:!0})})}observeSystemResources(){"undefined"!=typeof window&&setInterval(()=>{const e=performance.memory;e&&(this.recordMetric({id:`memory-${Date.now()}`,timestamp:new Date,category:"system_resource",name:"heap_memory_used",value:e.usedJSHeapSize,unit:"bytes",tags:{type:"memory"}}),this.recordMetric({id:`memory-limit-${Date.now()}`,timestamp:new Date,category:"system_resource",name:"heap_memory_limit",value:e.jsHeapSizeLimit,unit:"bytes",tags:{type:"memory"}}));const t=navigator.connection;t&&this.recordMetric({id:`network-${Date.now()}`,timestamp:new Date,category:"system_resource",name:"network_speed",value:t.downlink,unit:"ms",tags:{type:"network",effective_type:t.effectiveType}})},3e4)}recordMetric(e){this.metrics.push(e),this.metrics.length>1e3&&(this.metrics=this.metrics.slice(-1e3)),"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("performance_metric",{detail:e}))}async measureApiCall(e,t,s="GET"){const a=performance.now(),i=new Date;try{const r=await e(),n=performance.now()-a;return this.recordMetric({id:`api-success-${Date.now()}`,timestamp:i,category:"api_request",name:"api_response_time",value:n,unit:"ms",tags:{endpoint:t,method:s,status:"success"}}),r}catch(r){const e=performance.now()-a;throw this.recordMetric({id:`api-error-${Date.now()}`,timestamp:i,category:"api_request",name:"api_response_time",value:e,unit:"ms",tags:{endpoint:t,method:s,status:"error",error_type:r instanceof Error?r.name:"unknown"}}),r}}measureComponentRender(e){const t=performance.now(),s=new Date;return()=>{const a=performance.now()-t;this.recordMetric({id:`component-${Date.now()}`,timestamp:s,category:"user_interaction",name:"component_render_time",value:a,unit:"ms",tags:{component:e,page:"undefined"!=typeof window?window.location.pathname:"unknown"}})}}getPerformanceSummary(e=3e5){const t=new Date(Date.now()-e),s=this.metrics.filter(e=>e.timestamp>=t),a=s.filter(e=>"page_load"===e.category),i=s.filter(e=>"api_request"===e.category),r=s.filter(e=>"user_interaction"===e.category),n=s.filter(e=>"system_resource"===e.category);return{metrics:s,summary:{pageLoadTime:this.calculateAverage(a.map(e=>e.value)),apiResponseTime:this.calculateAverage(i.map(e=>e.value)),userInteractions:r.length,errorRate:this.calculateErrorRate(i),memoryUsage:this.getLatestMemoryUsage(n)}}}getSystemHealth(){const e=this.metrics.filter(e=>"heap_memory_used"===e.name).slice(-1)[0],t=e?e.value/1073741824:0;return{cpu:0,memory:Math.min(100,t/4*100),network:navigator.onLine?"online":"offline",timestamp:new Date}}getUserMetrics(){const e=this.startTime,t=performance.now()-e,s=this.metrics.filter(e=>"user_interaction"===e.category),a=this.metrics.filter(e=>"api_request"===e.category).filter(e=>"error"===e.tags.status);return{sessionDuration:t/1e3,pageViews:this.getPageViewCount(),interactions:s.length,bounceRate:this.calculateBounceRate(),errorCount:a.length}}checkPerformanceAlerts(){const e=[],t=this.getPerformanceSummary().summary;return t.pageLoadTime>3e3&&e.push({type:t.pageLoadTime>5e3?"error":"warning",message:"Page load time is high",metric:"page_load_time",value:t.pageLoadTime}),t.apiResponseTime>1e3&&e.push({type:t.apiResponseTime>3e3?"error":"warning",message:"API response time is high",metric:"api_response_time",value:t.apiResponseTime}),t.errorRate>5&&e.push({type:t.errorRate>10?"error":"warning",message:"High error rate detected",metric:"error_rate",value:t.errorRate}),t.memoryUsage>80&&e.push({type:t.memoryUsage>95?"error":"warning",message:"High memory usage detected",metric:"memory_usage",value:t.memoryUsage}),e}exportMetrics(e="json"){if("csv"===e){const e=[["id","timestamp","category","name","value","unit","tags"].join(",")];return this.metrics.forEach(t=>{const s=[t.id,t.timestamp.toISOString(),t.category,t.name,t.value.toString(),t.unit,JSON.stringify(t.tags)];e.push(s.join(","))}),e.join("\n")}return JSON.stringify(this.metrics,null,2)}calculateAverage(e){return 0===e.length?0:e.reduce((e,t)=>e+t,0)/e.length}calculateErrorRate(e){if(0===e.length)return 0;return e.filter(e=>"error"===e.tags.status).length/e.length*100}getLatestMemoryUsage(e){const t=e.filter(e=>"heap_memory_used"===e.name);if(0===t.length)return 0;return t[t.length-1].value/1073741824*100}getPageViewCount(){return 1}calculateBounceRate(){return this.metrics.filter(e=>"user_interaction"===e.category).length>5?0:100}destroy(){this.observers.forEach(e=>e.disconnect()),this.observers=[],this.metrics=[],this.isMonitoring=!1}};t(Ve,"instance");let He=Ve;function Ge(e=3e4,t=!0){const[s,a]=r.useState(null),[i,n]=r.useState([]),[l,o]=r.useState(!1),c=r.useRef(null),d=r.useRef(null);r.useEffect(()=>{if(t&&"undefined"!=typeof window){c.current=He.getInstance(),o(!0),m(),e>0&&(d.current=setInterval(m,e));const t=e=>{g()};return window.addEventListener("performance_metric",t),()=>{d.current&&clearInterval(d.current),window.removeEventListener("performance_metric",t)}}},[t,e]);const m=r.useCallback(()=>{if(c.current){const e=c.current.getPerformanceSummary();a(e.summary);const t=c.current.checkPerformanceAlerts();n(t)}},[]),g=r.useCallback(function(e,t){let s;return function(...a){s||(e(...a),s=!0,setTimeout(()=>s=!1,t))}}(m,1e3),[m]);return{summary:s,alerts:i,isMonitoring:l,measureApiCall:r.useCallback(async(e,t,s="GET")=>c.current?c.current.measureApiCall(e,t,s):e(),[]),measureRender:r.useCallback(e=>c.current?c.current.measureComponentRender(e):()=>{},[]),recordMetric:r.useCallback((e,t,s,a={})=>{c.current&&c.current.recordMetric({id:`custom-${Date.now()}-${Math.random()}`,timestamp:new Date,category:s,name:e,value:t,unit:"count",tags:a})},[]),exportMetrics:r.useCallback((e="json")=>c.current?c.current.exportMetrics(e):"json"===e?"[]":"",[]),refreshSummary:r.useCallback(()=>{m()},[m])}}const We=({className:e=""})=>{const{summary:t,alerts:a,isMonitoring:i,exportMetrics:n,refreshSummary:l}=Ge(1e4),[o,c]=r.useState("json"),d=e=>e<1e3?`${Math.round(e)}ms`:`${(e/1e3).toFixed(1)}s`,m=(e,t)=>e>=t.error?"text-red-600":e>=t.warning?"text-yellow-600":"text-green-600";return i?s.jsxs("div",{className:`bg-white rounded-lg shadow ${e}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(D,{className:"h-6 w-6 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Performance Monitor"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{value:o,onChange:e=>c(e.target.value),className:"text-sm border border-gray-300 rounded px-3 py-1",children:[s.jsx("option",{value:"json",children:"JSON"}),s.jsx("option",{value:"csv",children:"CSV"})]}),s.jsxs("button",{onClick:()=>{const e=n(o),t=new Blob([e],{type:"json"===o?"application/json":"text/csv"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`performance-metrics-${(new Date).toISOString().split("T")[0]}.${o}`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)},className:"flex items-center space-x-1 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:[s.jsx(b,{className:"h-4 w-4"}),s.jsx("span",{children:"Export"})]}),s.jsxs("button",{onClick:l,className:"flex items-center space-x-1 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[s.jsx(se,{className:"h-4 w-4"}),s.jsx("span",{children:"Refresh"})]})]})]})}),a.length>0&&s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(L,{className:"h-5 w-5 text-red-600"}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Performance Alerts"})]}),s.jsx("div",{className:"space-y-2",children:a.map((e,t)=>{return s.jsx("div",{className:"p-3 rounded border "+(a=e.type,"error"===a?"bg-red-50 border-red-200 text-red-800":"bg-yellow-50 border-yellow-200 text-yellow-800"),children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:e.message}),s.jsx("span",{className:"text-sm",children:"page_load_time"===e.metric||"api_response_time"===e.metric?d(e.value):`${Math.round(e.value)}${"memory_usage"===e.metric?"%":""}`})]})},t);var a})})]}),s.jsx("div",{className:"p-6",children:t?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx($,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Page Load"}),s.jsx("p",{className:`text-lg font-bold ${m(t.pageLoadTime,{warning:3e3,error:5e3})}`,children:d(t.pageLoadTime)})]})]}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full "+(t.pageLoadTime>5e3?"bg-red-500":t.pageLoadTime>3e3?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(100,t.pageLoadTime/5e3*100)}%`}})})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(j,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium",children:"API Response"}),s.jsx("p",{className:`text-lg font-bold ${m(t.apiResponseTime,{warning:1e3,error:3e3})}`,children:d(t.apiResponseTime)})]})]}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"w-full bg-green-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full "+(t.apiResponseTime>3e3?"bg-red-500":t.apiResponseTime>1e3?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(100,t.apiResponseTime/3e3*100)}%`}})})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ce,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Interactions"}),s.jsx("p",{className:"text-lg font-bold text-purple-900",children:t.userInteractions.toLocaleString()})]})]}),s.jsx("div",{className:"mt-2 text-xs text-purple-700",children:"User activity level"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-red-100 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(be,{className:"h-8 w-8 text-red-600"}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-red-700 font-medium",children:"Error Rate"}),s.jsxs("p",{className:`text-lg font-bold ${m(t.errorRate,{warning:5,error:10})}`,children:[t.errorRate.toFixed(1),"%"]})]})]}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"w-full bg-red-200 rounded-full h-2",children:s.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${Math.min(100,t.errorRate)}%`}})})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(M,{className:"h-8 w-8 text-orange-600"}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-orange-700 font-medium",children:"Memory"}),s.jsxs("p",{className:`text-lg font-bold ${m(t.memoryUsage,{warning:70,error:90})}`,children:[t.memoryUsage.toFixed(1),"%"]})]})]}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full "+(t.memoryUsage>90?"bg-red-500":t.memoryUsage>70?"bg-yellow-500":"bg-green-500"),style:{width:`${t.memoryUsage}%`}})})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsxs("div",{className:"text-center",children:[s.jsx(D,{className:"h-8 w-8 text-gray-400 mx-auto mb-2 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:"Loading performance data..."})]})})}),s.jsx("div",{className:"px-6 pb-6",children:s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Performance Tips"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx($,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Optimize images and enable browser caching for faster load times"})]}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(j,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Implement API response caching and optimize database queries"})]}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(M,{className:"h-4 w-4 text-orange-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Monitor memory usage patterns and optimize component renders"})]}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(ve,{className:"h-4 w-4 text-purple-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Use lazy loading and code splitting for better user experience"})]})]})]})})]}):s.jsx("div",{className:`bg-white rounded-lg shadow p-6 ${e}`,children:s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsxs("div",{className:"text-center",children:[s.jsx(T,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"Performance monitoring not available"})]})})})},Ke=()=>{const[e,t]=r.useState(""),[i,n]=r.useState(""),[l,o]=r.useState(!1),{login:c}=a();return s.jsxs("form",{onSubmit:async s=>{s.preventDefault(),o(!0),n("");try{await c(e)||(n("Invalid password. Please contact administrator."),t(""))}catch(a){n("Login failed. Please try again."),t("")}finally{o(!1)}},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),s.jsx("input",{type:"password",id:"password",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",required:!0})]}),i&&s.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:i}),s.jsx("button",{type:"submit",disabled:l,className:"w-full bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-lg transition-colors",children:l?"Logging in...":"Login"})]})},Je=()=>{const{isAuthenticated:e}=a(),[t,n]=r.useState(null),[o,c]=r.useState([]),[d,m]=r.useState(null),[g,p]=r.useState(""),[h,x]=r.useState(!0),[f,v]=r.useState("overview"),[j,S]=r.useState(!1),[A,M]=r.useState({dateRange:"30days",industry:"all",fundingRange:"all",companyStage:"all",formType:"all"}),T=[{id:"overview",label:"Overview",icon:ce,color:"indigo"},{id:"applications",label:"Applications",icon:C,color:"green"},{id:"entrepreneurs",label:"Entrepreneurs",icon:we,color:"blue"},{id:"investors",label:"Investors",icon:le,color:"purple"},{id:"media",label:"Media",icon:Ne,color:"pink"},{id:"partnerships",label:"Partnerships",icon:ke,color:"yellow"},{id:"general",label:"General",icon:w,color:"gray"},{id:"newsletter",label:"Newsletter",icon:Se,color:"orange"},{id:"agents",label:"AI Agents",icon:N,color:"cyan"},{id:"performance",label:"Performance",icon:D,color:"emerald"}];r.useEffect(()=>{e&&R()},[e]);const R=async()=>{x(!0);try{const e=await l.getAnalyticsSummary(),t=localStorage.getItem("form_submissions"),s=(t?JSON.parse(t):[]).filter(e=>e&&"object"==typeof e&&e.type&&e.data&&"object"==typeof e.data&&Object.keys(e.data).length>0),a=s.filter(e=>"apply"===e.type),i=P(a);n({...e,application_funnel:i}),c(s)}catch(e){u.error("Failed to load data"),c([])}finally{x(!1)}},P=e=>{const t={step1_started:e.length,step2_reached:0,step3_reached:0,step4_completed:0,avg_completion_time:0};let s=0;return e.forEach(e=>{e.data?.completedSteps>=2&&t.step2_reached++,e.data?.completedSteps>=3&&t.step3_reached++,e.data?.completedSteps>=4&&t.step4_completed++,e.data?.timeSpentSeconds&&(s+=e.data.timeSpentSeconds)}),t.avg_completion_time=e.length>0?Math.round(s/e.length):0,t},L=r.useMemo(()=>{let e=[...o];switch(f){case"applications":e=e.filter(e=>"apply"===e.type);break;case"entrepreneurs":e=e.filter(e=>"contact_entrepreneur"===e.type);break;case"investors":e=e.filter(e=>"contact_investor"===e.type);break;case"media":e=e.filter(e=>"contact_media"===e.type);break;case"partnerships":e=e.filter(e=>"contact_partnership"===e.type);break;case"general":e=e.filter(e=>"contact_general"===e.type||"contact"===e.type);break;case"newsletter":e=e.filter(e=>"newsletter"===e.type)}if("all"!==A.dateRange){const t=new Date,s="7days"===A.dateRange?7:"30days"===A.dateRange?30:90,a=new Date(t.getTime()-24*s*60*60*1e3);e=e.filter(e=>new Date(e.timestamp||e.created_at)>a)}return g&&(e=e.filter(e=>JSON.stringify(e.data).toLowerCase().includes(g.toLowerCase()))),"all"!==A.industry&&(e=e.filter(e=>e.data?.industry===A.industry)),"all"!==A.fundingRange&&(e=e.filter(e=>e.data?.fundingSought===A.fundingRange||e.data?.funding===A.fundingRange)),"all"!==A.companyStage&&(e=e.filter(e=>e.data?.companyStage===A.companyStage||e.data?.stage===A.companyStage)),e.sort((e,t)=>new Date(t.timestamp||t.created_at).getTime()-new Date(e.timestamp||e.created_at).getTime())},[o,f,A,g]),E=e=>{const t=e?o.filter(t=>t.type===e):L;if(0===t.length)return void u.error("No data to export");const s=[["Date","Type","Name","Email","Company","Industry","Stage","Funding","Data"].join(","),...t.map(e=>[new Date(e.timestamp||e.created_at).toISOString(),e.type,e.data?.name||e.data?.contactName||"",e.data?.email||e.data?.contactEmail||"",e.data?.company||e.data?.companyName||"",e.data?.industry||"",e.data?.stage||e.data?.companyStage||"",e.data?.funding||e.data?.fundingSought||"",JSON.stringify(e.data).replace(/,/g,";")].map(e=>`"${e}"`).join(","))].join("\n"),a=new Blob([s],{type:"text/csv"}),i=URL.createObjectURL(a),r=document.createElement("a");r.href=i,r.download=`meta3ventures_${e||"all"}_${(new Date).toISOString().split("T")[0]}.csv`,r.click(),u.success("Data exported successfully!")};return e?h?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):s.jsxs(s.Fragment,{children:[s.jsx(i,{title:"Admin Dashboard - Meta3Ventures",description:"Admin dashboard for managing form submissions and analytics"}),s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:[o.length," total submissions"]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>S(!j),className:"px-4 py-2 bg-white dark:bg-gray-800 border rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[s.jsx(je,{className:"w-4 h-4"}),"Filters",j?s.jsx(X,{className:"w-4 h-4 rotate-180"}):s.jsx(X,{className:"w-4 h-4"})]}),s.jsxs("button",{onClick:R,className:"px-4 py-2 bg-white dark:bg-gray-800 border rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[s.jsx(se,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>E(),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[s.jsx(b,{className:"w-4 h-4"}),"Export All"]})]})]}),j&&s.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm mb-6",children:s.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date Range"}),s.jsxs("select",{value:A.dateRange,onChange:e=>M({...A,dateRange:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"all",children:"All Time"}),s.jsx("option",{value:"7days",children:"Last 7 Days"}),s.jsx("option",{value:"30days",children:"Last 30 Days"}),s.jsx("option",{value:"90days",children:"Last 90 Days"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Industry"}),s.jsxs("select",{value:A.industry,onChange:e=>M({...A,industry:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"all",children:"All Industries"}),s.jsx("option",{value:"ai-ml",children:"AI & Machine Learning"}),s.jsx("option",{value:"blockchain",children:"Blockchain & Web3"}),s.jsx("option",{value:"fintech",children:"FinTech"}),s.jsx("option",{value:"healthtech",children:"HealthTech"}),s.jsx("option",{value:"saas",children:"Enterprise SaaS"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Funding Range"}),s.jsxs("select",{value:A.fundingRange,onChange:e=>M({...A,fundingRange:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"all",children:"All Ranges"}),s.jsx("option",{value:"100k-250k",children:"$100K - $250K"}),s.jsx("option",{value:"250k-500k",children:"$250K - $500K"}),s.jsx("option",{value:"500k-1m",children:"$500K - $1M"}),s.jsx("option",{value:"1m-5m",children:"$1M - $5M"}),s.jsx("option",{value:"5m+",children:"$5M+"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company Stage"}),s.jsxs("select",{value:A.companyStage,onChange:e=>M({...A,companyStage:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"all",children:"All Stages"}),s.jsx("option",{value:"idea",children:"Idea Stage"}),s.jsx("option",{value:"mvp",children:"MVP/Prototype"}),s.jsx("option",{value:"revenue",children:"Early Revenue"}),s.jsx("option",{value:"growth",children:"Growth Stage"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Clear Filters"}),s.jsx("button",{onClick:()=>M({dateRange:"30days",industry:"all",fundingRange:"all",companyStage:"all",formType:"all"}),className:"w-full px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Reset All"})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold",children:t?.total_submissions||0})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Applications"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:t?.by_type.apply||0})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Entrepreneurs"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t?.by_type.contact_entrepreneur||0})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Investors"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:t?.by_type.contact_investor||0})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Media"}),s.jsx("p",{className:"text-2xl font-bold text-pink-600",children:t?.by_type.contact_media||0})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Partners"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:t?.by_type.contact_partnership||0})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Newsletter"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:t?.by_type.newsletter||0})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"General"}),s.jsx("p",{className:"text-2xl font-bold text-gray-600",children:t?.by_type.contact_general||0})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsx("nav",{className:"flex flex-wrap",children:T.map(e=>{const t=e.icon;return s.jsxs("button",{onClick:()=>v(e.id),className:"px-4 py-3 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 "+(f===e.id?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[s.jsx(t,{className:"w-4 h-4"}),e.label]},e.id)})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by company, name, email...",value:g,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg"})]})}),s.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:"agents"===f?s.jsx(Re,{}):"performance"===f?s.jsx(We,{className:"mt-0"}):0===L.length?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No submissions found"}):L.map((e,t)=>s.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 cursor-pointer",onClick:()=>m(e),children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:e.type}),e.data?.companyName&&s.jsx("span",{className:"font-medium",children:e.data.companyName}),e.data?.industry&&s.jsx("span",{className:"text-xs text-gray-500",children:e.data.industry})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:e.data?.contactName||e.data?.name||"Unknown"}),e.data?.contactEmail||e.data?.email?s.jsxs("span",{children:[" - ",e.data?.contactEmail||e.data?.email]}):null]}),e.data?.fundingSought&&s.jsxs("p",{children:["Seeking: ",e.data.fundingSought]}),e.data?.message&&s.jsx("p",{className:"truncate",children:e.data.message}),(()=>{let t=0;if(e.data?.uploadedFiles&&(t+=e.data.uploadedFiles.length),e.data?.attachedFiles)try{const s="string"==typeof e.data.attachedFiles?JSON.parse(e.data.attachedFiles):e.data.attachedFiles;s.pitchDeck&&(t+=s.pitchDeck.length),s.businessPlan&&(t+=s.businessPlan.length)}catch(a){}return e.data?.pitchDeck&&Array.isArray(e.data.pitchDeck)&&(t+=e.data.pitchDeck.length),e.data?.businessPlan&&Array.isArray(e.data.businessPlan)&&(t+=e.data.businessPlan.length),t>0?s.jsxs("p",{className:"text-indigo-600 text-xs",children:["📎 ",t," file(s) uploaded"]}):null})()]})]}),s.jsxs("div",{className:"text-right ml-4",children:[s.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp||e.created_at).toLocaleDateString()}),s.jsx("p",{className:"text-xs text-gray-400",children:new Date(e.timestamp||e.created_at).toLocaleTimeString()}),s.jsx("button",{className:"mt-2 text-indigo-600 hover:text-indigo-700",children:s.jsx(K,{className:"w-4 h-4"})})]})]})},t))}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("button",{onClick:()=>{E({overview:"all",applications:"apply",entrepreneurs:"contact_entrepreneur",investors:"contact_investor",media:"contact_media",partnerships:"contact_partnership",general:"contact_general",newsletter:"newsletter",agents:"agents"}[f])},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[s.jsx(b,{className:"w-4 h-4"}),"Export ",T.find(e=>e.id===f)?.label]})})]})]})}),s.jsxs("div",{className:"space-y-6",children:["applications"===f&&(()=>{const e=t?.application_funnel;if(!e||0===e.step1_started)return null;const a=[{name:"Step 1: Company Info",value:e.step1_started,percent:100},{name:"Step 2: Technology",value:e.step2_reached,percent:Math.round(e.step2_reached/e.step1_started*100)},{name:"Step 3: Market",value:e.step3_reached,percent:Math.round(e.step3_reached/e.step1_started*100)},{name:"Step 4: Completed",value:e.step4_completed,percent:Math.round(e.step4_completed/e.step1_started*100)}];return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx(y,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Application Funnel"]}),s.jsx("div",{className:"space-y-3",children:a.map((e,t)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:e.name}),s.jsxs("span",{className:"text-sm text-gray-500",children:[e.value," (",e.percent,"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 h-2 rounded-full transition-all",style:{width:`${e.percent}%`}})})]},t))}),e.avg_completion_time>0&&s.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Average completion time: ",Math.floor(e.avg_completion_time/60)," minutes"]})]})})(),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Stats"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Today"}),s.jsx("span",{className:"font-medium",children:o.filter(e=>(new Date).toDateString()===new Date(e.timestamp||e.created_at).toDateString()).length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"This Week"}),s.jsx("span",{className:"font-medium",children:o.filter(e=>{const t=new Date((new Date).getTime()-6048e5);return new Date(e.timestamp||e.created_at)>t}).length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Conversion Rate"}),s.jsx("span",{className:"font-medium",children:t?.application_funnel?`${Math.round(t.application_funnel.step4_completed/t.application_funnel.step1_started*100)}%`:"N/A"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),s.jsx("div",{className:"space-y-3",children:o.slice(0,5).map((e,t)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full mt-2 "+("apply"===e.type?"bg-green-500":e.type.includes("entrepreneur")?"bg-blue-500":e.type.includes("investor")?"bg-purple-500":"bg-gray-500")}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:e.data?.companyName||e.data?.name||"Unknown"}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.type," • ",new Date(e.timestamp||e.created_at).toLocaleTimeString()]})]})]},t))})]})]})]})]}),d&&(e=>{if(!e)return null;const t=e.data||{},a=t&&"object"==typeof t&&Object.keys(t).length>0;return t&&"object"==typeof t&&0===Object.keys(t).length?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"No Data Available"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"This submission has no data to display."}),s.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Close"})]})})}):a?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 p-6 border-b",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Application Details"}),s.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Z,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx(we,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Company Information"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Company Name"}),s.jsx("p",{className:"font-medium",children:t.companyName||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Website"}),s.jsx("p",{className:"font-medium",children:t.website?s.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:t.website}):"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Industry"}),s.jsx("p",{className:"font-medium",children:t.industry||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Stage"}),s.jsx("p",{className:"font-medium",children:t.companyStage||t.stage||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Location"}),s.jsx("p",{className:"font-medium",children:t.location||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Founded"}),s.jsx("p",{className:"font-medium",children:t.foundedYear||"N/A"})]})]}),t.companyDescription&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Description"}),s.jsx("p",{className:"mt-1",children:t.companyDescription})]})]}),(t.technologyFocus||t.productDescription)&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx(_,{className:"w-5 h-5 mr-2 text-purple-600"}),"Technology & Product"]}),s.jsxs("div",{className:"space-y-3",children:[t.technologyFocus&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Technology Focus"}),s.jsx("p",{className:"font-medium",children:t.technologyFocus})]}),t.productDescription&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Product Description"}),s.jsx("p",{className:"mt-1",children:t.productDescription})]}),t.competitiveAdvantage&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Competitive Advantage"}),s.jsx("p",{className:"mt-1",children:t.competitiveAdvantage})]}),t.developmentStatus&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Development Status"}),s.jsx("p",{className:"font-medium",children:t.developmentStatus})]})]})]}),(t.fundingSought||t.targetMarket)&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx(ie,{className:"w-5 h-5 mr-2 text-green-600"}),"Market & Funding"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Funding Sought"}),s.jsx("p",{className:"font-medium",children:t.fundingSought||t.funding||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Previous Funding"}),s.jsx("p",{className:"font-medium",children:t.previousFunding||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Revenue Status"}),s.jsx("p",{className:"font-medium",children:t.revenueStatus||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Current Users"}),s.jsx("p",{className:"font-medium",children:t.currentUsers||"N/A"})]})]}),t.targetMarket&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Target Market"}),s.jsx("p",{className:"mt-1",children:t.targetMarket})]}),t.useOfFunds&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Use of Funds"}),s.jsx("p",{className:"mt-1",children:t.useOfFunds})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx(I,{className:"w-5 h-5 mr-2 text-blue-600"}),"Team & Contact"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Contact Name"}),s.jsx("p",{className:"font-medium",children:t.contactName||t.name||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Role"}),s.jsx("p",{className:"font-medium",children:t.contactRole||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium",children:s.jsx("a",{href:`mailto:${t.contactEmail||t.email}`,className:"text-indigo-600 hover:underline",children:t.contactEmail||t.email||"N/A"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Phone"}),s.jsx("p",{className:"font-medium",children:t.contactPhone||"N/A"})]})]}),t.teamDescription&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"text-sm text-gray-500",children:"Team Description"}),s.jsx("p",{className:"mt-1",children:t.teamDescription})]})]}),(()=>{const e=[];if(t.uploadedFiles&&Array.isArray(t.uploadedFiles)&&e.push(...t.uploadedFiles.filter(e=>e&&"object"==typeof e&&e.name)),t.attachedFiles)try{const s="string"==typeof t.attachedFiles?JSON.parse(t.attachedFiles):t.attachedFiles;s&&"object"==typeof s&&s.pitchDeck&&Array.isArray(s.pitchDeck)&&e.push(...s.pitchDeck.filter(e=>e&&"string"==typeof e).map(e=>({name:e,type:"Pitch Deck",category:"pitchDeck"}))),s&&"object"==typeof s&&s.businessPlan&&Array.isArray(s.businessPlan)&&e.push(...s.businessPlan.filter(e=>e&&"string"==typeof e).map(e=>({name:e,type:"Business Plan",category:"businessPlan"})))}catch(a){}return t.pitchDeck&&Array.isArray(t.pitchDeck)&&e.push(...t.pitchDeck.filter(e=>e&&("string"==typeof e||"object"==typeof e&&e.name)).map(e=>({name:e.name||e,type:"Pitch Deck",category:"pitchDeck",size:e.size||0,fileObject:e instanceof File?e:null,mimeType:e.type||"application/pdf",url:e.url||null}))),t.businessPlan&&Array.isArray(t.businessPlan)&&e.push(...t.businessPlan.filter(e=>e&&("string"==typeof e||"object"==typeof e&&e.name)).map(e=>({name:e.name||e,type:"Business Plan",category:"businessPlan",size:e.size||0,fileObject:e instanceof File?e:null,mimeType:e.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document",url:e.url||null}))),e.length>0?s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx(C,{className:"w-5 h-5 mr-2 text-blue-600"}),"Uploaded Files (",e.length,")"]}),s.jsx("div",{className:"space-y-3",children:e.map((e,t)=>e&&"object"==typeof e&&e.name?s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(C,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[e.type," ",e.size?`• ${Math.round(e.size/1024)} KB`:"",e.category&&` • ${e.category}`]}),e.mimeType&&s.jsx("p",{className:"text-xs text-gray-400",children:e.mimeType})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[e.url?s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"View"}):s.jsx("button",{onClick:()=>{if(e.fileObject&&e.fileObject instanceof File){const t=URL.createObjectURL(e.fileObject),s=document.createElement("a");s.href=t,s.download=e.name,s.click(),URL.revokeObjectURL(t)}else if(e.content){const t=new Blob([e.content],{type:e.mimeType||"application/octet-stream"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=e.name,a.click(),URL.revokeObjectURL(s)}else{const t=`This is a placeholder for ${e.name}.\n\nFile was uploaded but content is not available for download.\nFile type: ${e.type}\nSize: ${e.size?Math.round(e.size/1024)+" KB":"Unknown"}`,s=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.download=e.name.replace(/\.[^/.]+$/,"")+"_info.txt",i.click(),URL.revokeObjectURL(a)}},className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Download"}),s.jsx("span",{className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded",children:e.url?"Available":"Uploaded"})]})]},t):null)})]}):null})(),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx($,{className:"w-5 h-5 mr-2 text-gray-600"}),"Submission Details"]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-gray-500",children:"Submitted"}),s.jsx("p",{className:"font-medium",children:new Date(e.timestamp||e.created_at).toLocaleString()})]}),t.timeSpentSeconds&&s.jsxs("div",{children:[s.jsx("label",{className:"text-gray-500",children:"Time Spent"}),s.jsxs("p",{className:"font-medium",children:[Math.floor(t.timeSpentSeconds/60)," min ",t.timeSpentSeconds%60," sec"]})]}),t.completedSteps&&s.jsxs("div",{children:[s.jsx("label",{className:"text-gray-500",children:"Steps Completed"}),s.jsxs("p",{className:"font-medium",children:[t.completedSteps," of 4"]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{onClick:()=>{const e={to:t.contactEmail||t.email,subject:`Re: ${t.companyName||"Your"} Application`,body:`Dear ${t.contactName||t.name},\n\nThank you for your application...`};window.location.href=`mailto:${e.to}?subject=${encodeURIComponent(e.subject)}&body=${encodeURIComponent(e.body)}`},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Send Email"}),s.jsx("button",{onClick:()=>E(e.type),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Export"})]})]})]})}):s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"No Data Available"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"This submission has no data to display."}),s.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Close"})]})})})})(d),s.jsx(Pe,{}),s.jsx(Le,{}),s.jsx($e,{}),s.jsx(Fe,{}),s.jsx(ze,{}),s.jsx(Ue,{}),s.jsx(Be,{})]})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center px-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(k,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard Access"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Please enter your password to continue"})]}),s.jsx(Ke,{})]})})};export{Je as AdminDashboard,Je as default};
