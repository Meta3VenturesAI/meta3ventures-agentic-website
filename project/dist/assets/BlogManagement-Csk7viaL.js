const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AnalyticsCharts-B6TQUChs.js","assets/index-CIzmM8sf.js","assets/react-vendor-eVk5PToZ.js","assets/router-Bf3h2-TO.js","assets/supabase-BhLMWRjL.js","assets/icons-CrFATGyQ.js","assets/ui-vendor-BqqUpcLC.js","assets/index-Cxb6lMBP.css","assets/charts-xzNHM7L1.js"])))=>i.map(i=>d[i]);
import{u as e,j as t,S as a,E as s,i as r}from"./index-CIzmM8sf.js";import{r as l,L as i}from"./router-Bf3h2-TO.js";import{Y as n,_ as o,$ as d,a0 as c,a1 as g,a2 as x,a3 as m,K as h,a4 as u,a5 as p,a6 as b,k as y,w as f,D as j,Q as v,a7 as w,b as N,a8 as k,a9 as S,S as C,g as I,h as _,aa as D,ab as P}from"./icons-CrFATGyQ.js";import{z as L}from"./ui-vendor-BqqUpcLC.js";import A from"./index-90n2ap_R.js";import{_ as E}from"./supabase-BhLMWRjL.js";import{s as B}from"./supabase-gsyK_hHB.js";import{f as T,s as O}from"./utils-B94DJTWt.js";import{b as M}from"./blog-BxRn0Xa-.js";import"./react-vendor-eVk5PToZ.js";const V=()=>{const[a,s]=l.useState(""),[r,i]=l.useState(""),[o,d]=l.useState(!1),{login:c}=e();return t.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center px-4",children:t.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(n,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Blog Management Access"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Please enter your password to continue"})]}),t.jsxs("form",{onSubmit:async e=>{e.preventDefault(),d(!0),i("");try{await c(a)||(i("Invalid password. Please contact administrator."),s(""))}catch(t){i("Login failed. Please try again."),s("")}finally{d(!1)}},className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),t.jsx("input",{type:"password",id:"password",value:a,onChange:e=>s(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",required:!0})]}),r&&t.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:r}),t.jsx("button",{type:"submit",disabled:o,className:"w-full bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-lg transition-colors",children:o?"Logging in...":"Login"})]})]})})},F=({initialData:e,onSave:a,onCancel:s})=>{const[r,i]=l.useState({title:e?.title||"",excerpt:e?.excerpt||"",content:e?.content||"",image:e?.image||"",author_id:e?.author_id||"default-author",category_id:e?.category_id||"ai",tags:e?.tags||[],read_time:e?.read_time||"",published:e?.published||!1}),[n,p]=l.useState(""),[b,y]=l.useState(!1),[f,j]=l.useState(!1),[v,w]=l.useState({});l.useEffect(()=>{const t=setInterval(()=>{if(r.title||r.content){const t=`blog-draft-${e?.id||"new"}`;localStorage.setItem(t,JSON.stringify(r))}},3e4);return()=>clearInterval(t)},[r,e?.id]),l.useEffect(()=>{if(!e?.id){const e="blog-draft-new",a=localStorage.getItem(e);if(a)try{const e=JSON.parse(a);if(e.title||e.content){window.confirm("A draft was found. Would you like to continue editing it?")&&i(e)}}catch(t){}}},[e?.id]),l.useEffect(()=>{if(r.content){const e=r.content.split(/\s+/).length,t=Math.ceil(e/200);i(e=>({...e,read_time:`${t} min read`}))}},[r.content]),l.useEffect(()=>{if(r.content&&!r.excerpt){const e=r.content.split("\n\n")[0].substring(0,160).replace(/[#*]/g,"").trim();e.length>50&&i(t=>({...t,excerpt:e+(160===e.length?"...":"")}))}},[r.content]);const N=(e,t="")=>{const a=document.getElementById("content");if(!a)return;const s=a.selectionStart,r=a.selectionEnd,l=a.value.substring(s,r)||t;let n="";switch(e){case"bold":n=`**${l}**`;break;case"italic":n=`*${l}*`;break;case"link":n=`[${l||"link text"}](url)`;break;case"list":n=`\n- ${l||"list item"}`;break;case"quote":n=`\n> ${l||"quote text"}`;break;default:n=l}const o=a.value.substring(0,s)+n+a.value.substring(r);i(e=>({...e,content:o})),setTimeout(()=>{a.focus(),a.setSelectionRange(s+n.length,s+n.length)},0)};return f?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Preview"}),t.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 text-indigo-600 hover:text-indigo-700 font-medium",children:"Back to Editor"})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg",children:[t.jsxs("div",{className:"relative h-64",children:[t.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://images.pexels.com/photos/8386440/pexels-photo-8386440.jpeg?auto=compress&cs=tinysrgb&w=800"}}),t.jsx("div",{className:"absolute bottom-4 left-4",children:t.jsx("span",{className:"px-3 py-1 bg-indigo-600 text-white text-sm font-medium rounded-full",children:r.category_id})})]}),t.jsxs("div",{className:"p-8",children:[t.jsx("h1",{className:"text-3xl font-bold mb-4 text-gray-900 dark:text-white",children:r.title}),t.jsxs("div",{className:"flex items-center gap-4 mb-6 text-gray-600 dark:text-gray-300",children:[t.jsx("span",{children:r.read_time}),t.jsx("span",{children:"â€¢"}),t.jsx("span",{children:"Liron Langer"})]}),t.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[t.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-6",children:r.excerpt}),t.jsx(A,{components:{h1:({children:e})=>t.jsx("h1",{className:"text-3xl font-bold mt-8 mb-4 text-gray-900 dark:text-white",children:e}),h2:({children:e})=>t.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3 text-gray-900 dark:text-white",children:e}),h3:({children:e})=>t.jsx("h3",{className:"text-xl font-bold mt-4 mb-2 text-gray-900 dark:text-white",children:e}),p:({children:e})=>t.jsx("p",{className:"mb-4 text-gray-700 dark:text-gray-300 leading-relaxed",children:e}),ul:({children:e})=>t.jsx("ul",{className:"mb-4 space-y-2 list-disc pl-5",children:e}),ol:({children:e})=>t.jsx("ol",{className:"mb-4 space-y-2 list-decimal pl-5",children:e}),li:({children:e})=>t.jsx("li",{className:"text-gray-700 dark:text-gray-300",children:e}),strong:({children:e})=>t.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:e}),em:({children:e})=>t.jsx("em",{className:"italic text-gray-700 dark:text-gray-300",children:e}),blockquote:({children:e})=>t.jsx("blockquote",{className:"border-l-4 border-indigo-500 pl-4 my-6 italic text-gray-600 dark:text-gray-400",children:e}),code:({children:e})=>t.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-sm font-mono",children:e}),pre:({children:e})=>t.jsx("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto my-6",children:e})},children:r.content})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-6",children:r.tags.map((e,a)=>t.jsx("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 text-sm rounded-full",children:e},a))})]})]})]}):t.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};if(r.title.trim()?r.title.length<10?e.title="Title should be at least 10 characters":r.title.length>100&&(e.title="Title should be less than 100 characters"):e.title="Title is required",r.excerpt.trim()?r.excerpt.length<50?e.excerpt="Excerpt should be at least 50 characters":r.excerpt.length>200&&(e.excerpt="Excerpt should be less than 200 characters"):e.excerpt="Excerpt is required",r.content.trim()?r.content.length<100&&(e.content="Content should be at least 100 characters"):e.content="Content is required",r.image.trim())try{new URL(r.image)}catch{e.image="Please enter a valid image URL"}else e.image="Featured image URL is required";return 0===r.tags.length?e.tags="At least one tag is required":r.tags.length>10&&(e.tags="Maximum 10 tags allowed"),w(e),0===Object.keys(e).length})()){y(!0);try{a(r);const t=`blog-draft-${e?.id||"new"}`;localStorage.removeItem(t)}catch(s){L.error("Failed to save post. Please try again.")}finally{y(!1)}}else L.error("Please fix the errors before saving")},className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e?.id?"Edit Post":"Create New Post"}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{type:"button",onClick:()=>j(!0),className:"flex items-center px-4 py-2 text-indigo-600 hover:text-indigo-700 font-medium",children:[t.jsx(o,{className:"w-4 h-4 mr-2"}),"Preview"]}),t.jsx("span",{className:"text-sm text-gray-500",children:"Auto-saved"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Title *"}),t.jsx("input",{type:"text",value:r.title,onChange:e=>i(t=>({...t,title:e.target.value})),className:"form-input "+(v.title?"border-red-500":""),placeholder:"Enter an engaging title...",required:!0}),v.title&&t.jsx("p",{className:"form-error",children:v.title}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.title.length,"/100 characters"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Excerpt *"}),t.jsx("textarea",{value:r.excerpt,onChange:e=>i(t=>({...t,excerpt:e.target.value})),rows:3,className:"form-input "+(v.excerpt?"border-red-500":""),placeholder:"Brief description that will appear in blog listings...",required:!0}),v.excerpt&&t.jsx("p",{className:"form-error",children:v.excerpt}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.excerpt.length,"/200 characters"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Content * (Markdown supported)"}),t.jsxs("div",{className:"flex items-center space-x-2 mb-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-t-lg border border-b-0 border-gray-300 dark:border-gray-600",children:[t.jsx("button",{type:"button",onClick:()=>N("bold","bold text"),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Bold",children:t.jsx(d,{className:"w-4 h-4"})}),t.jsx("button",{type:"button",onClick:()=>N("italic","italic text"),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Italic",children:t.jsx(c,{className:"w-4 h-4"})}),t.jsx("button",{type:"button",onClick:()=>N("link"),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Link",children:t.jsx(g,{className:"w-4 h-4"})}),t.jsx("button",{type:"button",onClick:()=>N("list","list item"),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"List",children:t.jsx(x,{className:"w-4 h-4"})}),t.jsx("button",{type:"button",onClick:()=>N("quote","quote text"),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Quote",children:t.jsx(m,{className:"w-4 h-4"})})]}),t.jsx("textarea",{id:"content",value:r.content,onChange:e=>i(t=>({...t,content:e.target.value})),rows:20,className:"form-input rounded-t-none "+(v.content?"border-red-500":""),placeholder:"Write your content here... You can use Markdown formatting.",required:!0}),v.content&&t.jsx("p",{className:"form-error",children:v.content}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.content.split(/\s+/).length," words â€¢ Supports Markdown formatting"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Featured Image URL *"}),t.jsx("input",{type:"url",value:r.image,onChange:e=>i(t=>({...t,image:e.target.value})),className:"form-input "+(v.image?"border-red-500":""),placeholder:"https://example.com/image.jpg",required:!0}),v.image&&t.jsx("p",{className:"form-error",children:v.image}),r.image&&t.jsx("div",{className:"mt-2",children:t.jsx("img",{src:r.image,alt:"Preview",className:"w-full h-48 object-cover rounded-lg",onError:e=>{e.target.style.display="none"}})}),t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Suggested Images:"}),t.jsx("div",{className:"grid grid-cols-5 gap-2",children:["https://images.pexels.com/photos/8386440/pexels-photo-8386440.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/8370752/pexels-photo-8370752.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/7567443/pexels-photo-7567443.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/3183197/pexels-photo-3183197.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/7567460/pexels-photo-7567460.jpeg?auto=compress&cs=tinysrgb&w=800"].map((e,a)=>t.jsx("button",{type:"button",onClick:()=>i(t=>({...t,image:e})),className:"relative h-20 rounded-lg overflow-hidden hover:ring-2 hover:ring-indigo-500 transition-all",children:t.jsx("img",{src:e,alt:`Suggested ${a+1}`,className:"w-full h-full object-cover"})},a))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Category"}),t.jsxs("select",{value:r.category_id,onChange:e=>i(t=>({...t,category_id:e.target.value})),className:"form-input",children:[t.jsx("option",{value:"ai",children:"AI & Machine Learning"}),t.jsx("option",{value:"blockchain",children:"Blockchain"}),t.jsx("option",{value:"innovation",children:"Innovation"}),t.jsx("option",{value:"venture-capital",children:"Venture Capital"}),t.jsx("option",{value:"technology",children:"Technology"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Read Time"}),t.jsx("input",{type:"text",value:r.read_time,onChange:e=>i(t=>({...t,read_time:e.target.value})),placeholder:"e.g., 5 min read",className:"form-input"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Auto-calculated based on content length"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"Tags *"}),t.jsx("input",{type:"text",value:n,onChange:e=>p(e.target.value),onKeyDown:e=>{if("Enter"===e.key&&n.trim()){e.preventDefault();const t=n.trim().toLowerCase();r.tags.includes(t)?L.error("Tag already exists"):r.tags.length<10?(i(e=>({...e,tags:[...e.tags,t]})),p("")):L.error("Maximum 10 tags allowed")}},placeholder:"Type a tag and press Enter",className:"form-input "+(v.tags?"border-red-500":"")}),v.tags&&t.jsx("p",{className:"form-error",children:v.tags}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.tags.map((e,a)=>t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200",children:[e,t.jsx("button",{type:"button",onClick:()=>{return t=e,void i(e=>({...e,tags:e.tags.filter(e=>e!==t)}));var t},className:"ml-2 text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200",children:"Ã—"})]},a))}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.tags.length,"/10 tags"]})]}),t.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"published",className:"text-sm font-medium text-gray-900 dark:text-white",children:"Publish Status"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.published?"This post will be visible to all visitors":"This post will be saved as a draft"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",id:"published",checked:r.published,onChange:e=>i(t=>({...t,published:e.target.checked})),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"}),t.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-white",children:r.published?"Published":"Draft"})]})]})}),t.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[t.jsxs("button",{type:"button",onClick:s,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center",children:[t.jsx(h,{className:"w-5 h-5 mr-2"}),"Cancel"]}),t.jsxs("button",{type:"submit",disabled:b,className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors flex items-center disabled:opacity-50",children:[t.jsx(u,{className:"w-5 h-5 mr-2"}),b?"Saving...":r.published?"Publish Post":"Save Draft"]})]})]})};async function R(e,t){try{const{data:a,error:s}=await B.from("page_views").select("*").gte("timestamp",e).lte("timestamp",t);if(s)throw s;const{data:r,error:l}=await B.from("leads").select("*").gte("created_at",e).lte("created_at",t);if(l)throw l;const i=a?.length||0,n=new Set(a?.map(e=>e.session_id)).size||0,o=r?.length||0;return{totalPageViews:i,uniqueVisitors:n,averageSessionDuration:18e4,topPages:$(a||[]),leadsBySource:U(r||[]),conversionRate:i>0?o/i*100:0,deviceBreakdown:J(a||[]),countryBreakdown:z(a||[])}}catch(a){return{totalPageViews:1250,uniqueVisitors:890,averageSessionDuration:18e4,topPages:[{page:"/",views:450},{page:"/services",views:320},{page:"/portfolio",views:280},{page:"/about",views:200}],leadsBySource:[{source:"website",count:25},{source:"referral",count:15},{source:"social",count:10}],conversionRate:5.6,deviceBreakdown:[{device:"desktop",count:600},{device:"mobile",count:250},{device:"tablet",count:40}],countryBreakdown:[{country:"US",count:400},{country:"IL",count:200},{country:"UK",count:150}]}}}async function q(e,t){try{const{data:a,error:s}=await B.from("leads").select("*").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!1});if(s)throw s;return a||[]}catch(a){return[]}}function $(e){const t=e.reduce((e,t)=>(e[t.page]=(e[t.page]||0)+1,e),{});return Object.entries(t).map(([e,t])=>({page:e,views:t})).sort((e,t)=>t.views-e.views).slice(0,5)}function U(e){const t=e.reduce((e,t)=>(e[t.source]=(e[t.source]||0)+1,e),{});return Object.entries(t).map(([e,t])=>({source:e,count:t}))}function J(e){const t=e.reduce((e,t)=>{const a=t.device_type||"unknown";return e[a]=(e[a]||0)+1,e},{});return Object.entries(t).map(([e,t])=>({device:e,count:t}))}function z(e){const t=e.reduce((e,t)=>{const a=t.country_code||"unknown";return e[a]=(e[a]||0)+1,e},{});return Object.entries(t).map(([e,t])=>({country:e,count:t}))}const K=l.lazy(()=>E(()=>import("./AnalyticsCharts-B6TQUChs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),W=[{label:"Last 7 days",days:7},{label:"Last 30 days",days:30},{label:"Last 90 days",days:90}],Y=()=>{const[e,a]=l.useState({start:T(O(new Date,30),"yyyy-MM-dd"),end:T(new Date,"yyyy-MM-dd")}),[s,r]=l.useState(null),[i,n]=l.useState([]),[o,d]=l.useState(!0),[c,g]=l.useState(0),[x,m]=l.useState(!1);l.useEffect(()=>{h();const e=setInterval(()=>{g(e=>e+1)},3e5);return()=>clearInterval(e)},[e,c]);const h=async()=>{d(!0);try{const[t,a]=await Promise.all([R(e.start,e.end),q(e.start,e.end)]);r(t),n(a),m(1250===t.totalPageViews)}catch(t){r({totalPageViews:0,uniqueVisitors:0,averageSessionDuration:0,topPages:[],leadsBySource:[],conversionRate:0,deviceBreakdown:[],countryBreakdown:[]}),n([]),m(!0)}finally{d(!1)}};return o?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading analytics data..."})]})}):s?t.jsxs("div",{className:"space-y-8",children:[x&&t.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(b,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mr-3"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Demo Mode - Database Tables Not Found"}),t.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"Analytics tables haven't been created yet. Showing demo data. To enable real analytics, the Supabase migration files need to be applied to create the required tables."})]})]})}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-8",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(y,{className:"w-5 h-5 text-gray-500"}),t.jsx("select",{value:30,onChange:e=>{return t=Number(e.target.value),void a({start:T(O(new Date,t),"yyyy-MM-dd"),end:T(new Date,"yyyy-MM-dd")});var t},className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:W.map(e=>t.jsx("option",{value:e.days,children:e.label},e.days))})]}),t.jsxs("button",{onClick:()=>g(e=>e+1),className:"flex items-center px-4 py-2 text-indigo-600 hover:text-indigo-700",children:[t.jsx(f,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Page Views",value:s.totalPageViews.toLocaleString(),subtext:x?"Demo data":"Real data"},{label:"Unique Visitors",value:s.uniqueVisitors.toLocaleString(),subtext:x?"Demo data":"Real data"},{label:"Total Leads",value:i.length.toLocaleString(),subtext:x?"Demo data":"Real data"},{label:"Conversion Rate",value:`${s.conversionRate.toFixed(2)}%`,subtext:x?"Demo data":"Real data"}].map((e,a)=>t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:[t.jsx("h3",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.label}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:e.value}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e.subtext})]},a))}),t.jsx(l.Suspense,{fallback:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg animate-pulse",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),t.jsx("div",{className:"h-64 bg-gray-200 rounded"})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg animate-pulse",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),t.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})]}),children:t.jsx(K,{submissionData:s.topPages.map(e=>({name:e.page,value:e.views})),sourceData:s.leadsBySource.map(e=>({name:e.source,value:e.count})),conversionData:[{name:"Visitors",value:s.uniqueVisitors},{name:"Page Views",value:s.totalPageViews},{name:"Leads",value:s.leadsBySource.reduce((e,t)=>e+t.count,0)}]})}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[t.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Recent Leads"}),t.jsxs("button",{onClick:()=>{if(0===i.length)return void alert("No data to export");const t=i.map(e=>({Name:e.name,Email:e.email,Company:e.company||"",Interest:e.interest,Source:e.source,Date:T(new Date(e.created_at),"yyyy-MM-dd HH:mm:ss")})),a=[Object.keys(t[0]).join(","),...t.map(e=>Object.values(e).map(e=>`"${e}"`).join(","))].join("\n"),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),r=window.URL.createObjectURL(s),l=document.createElement("a");l.setAttribute("href",r),l.setAttribute("download",`leads-${e.start}-to-${e.end}.csv`),document.body.appendChild(l),l.click(),document.body.removeChild(l)},className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",disabled:0===i.length,children:[t.jsx(j,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]}),t.jsx("div",{className:"overflow-x-auto",children:i.length>0?t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Email"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Company"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Interest"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Source"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:i.map(e=>t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-white",children:e.name}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-white",children:e.email}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-white",children:e.company||"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-white",children:e.interest}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-white",children:e.source}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 dark:text-white",children:T(new Date(e.created_at),"PPP")})]},e.id))})]}):t.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[t.jsx(b,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No leads data available"}),t.jsx("p",{className:"text-sm",children:x?"Database tables need to be created to track real leads data.":"No leads found for the selected date range."})]})})]})]}):t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx(p,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Unable to load analytics data"}),t.jsx("button",{onClick:()=>g(e=>e+1),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Retry"})]})})};const H=l.createContext(null),Q={didCatch:!1,error:null};class G extends l.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Q}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var t,a,s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];null===(t=(a=this.props).onReset)||void 0===t||t.call(a,{args:r,reason:"imperative-api"}),this.setState(Q)}}componentDidCatch(e,t){var a,s;null===(a=(s=this.props).onError)||void 0===a||a.call(s,e,t)}componentDidUpdate(e,t){const{didCatch:a}=this.state,{resetKeys:s}=this.props;var r,l;a&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,a)=>!Object.is(e,t[a]))}(e.resetKeys,s)&&(null===(r=(l=this.props).onReset)||void 0===r||r.call(l,{next:s,prev:e.resetKeys,reason:"keys"}),this.setState(Q))}render(){const{children:e,fallbackRender:t,FallbackComponent:a,fallback:s}=this.props,{didCatch:r,error:i}=this.state;let n=e;if(r){const e={error:i,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)n=t(e);else if(a)n=l.createElement(a,e);else{if(void 0===s)throw i;n=s}}return l.createElement(H.Provider,{value:{didCatch:r,error:i,resetErrorBoundary:this.resetErrorBoundary}},n)}}const X={aiInsight:{title:"The Future of AI: [Your Topic Here]",excerpt:"Explore how artificial intelligence is transforming [industry/area] and what it means for the future of innovation.",content:"# The Future of AI: [Your Topic Here]\n\nArtificial intelligence continues to evolve at an unprecedented pace, reshaping industries and creating new possibilities for innovation. In this article, we'll explore [specific topic/trend] and its implications for the future.\n\n## Key Insights\n\n### 1. Current State\n[Describe the current landscape]\n\n### 2. Emerging Trends\n[Discuss new developments]\n\n### 3. Future Implications\n[Analyze what this means going forward]\n\n## Conclusion\n\n[Summarize key takeaways and future outlook]",image:"https://images.pexels.com/photos/8386440/pexels-photo-8386440.jpeg?auto=compress&cs=tinysrgb&w=800",category_id:"ai",tags:["Artificial Intelligence","Innovation","Future Tech"]},blockchainAnalysis:{title:"Blockchain Innovation: [Your Focus Area]",excerpt:"A deep dive into the latest blockchain developments and their impact on [specific industry or use case].",content:"# Blockchain Innovation: [Your Focus Area]\n\nBlockchain technology continues to mature, offering new solutions for [specific problem/industry]. Let's examine the latest developments and their potential impact.\n\n## Technical Overview\n\n### Architecture\n[Describe the technical approach]\n\n### Implementation\n[Discuss how it's being implemented]\n\n### Benefits\n[Outline the key advantages]\n\n## Real-World Applications\n\n[Provide concrete examples and use cases]\n\n## Looking Ahead\n\n[Discuss future potential and challenges]",image:"https://images.pexels.com/photos/8370752/pexels-photo-8370752.jpeg?auto=compress&cs=tinysrgb&w=800",category_id:"blockchain",tags:["Blockchain","Web3","Innovation"]}},Z=({onCreatePost:e,onViewAnalytics:a,totalPosts:s,publishedPosts:r,draftPosts:l})=>t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 text-white p-6 rounded-xl",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-indigo-100 text-sm",children:"Total Posts"}),t.jsx("p",{className:"text-3xl font-bold",children:s})]}),t.jsx(v,{className:"w-8 h-8 text-indigo-200"})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white p-6 rounded-xl",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-green-100 text-sm",children:"Published"}),t.jsx("p",{className:"text-3xl font-bold",children:r})]}),t.jsx(o,{className:"w-8 h-8 text-green-200"})]})}),t.jsx("div",{className:"bg-gradient-to-br from-yellow-500 to-orange-600 text-white p-6 rounded-xl",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-yellow-100 text-sm",children:"Drafts"}),t.jsx("p",{className:"text-3xl font-bold",children:l})]}),t.jsx(w,{className:"w-8 h-8 text-yellow-200"})]})}),t.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 text-white p-6 rounded-xl",children:t.jsxs("button",{onClick:a,className:"w-full h-full flex items-center justify-between hover:scale-105 transition-transform",children:[t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-purple-100 text-sm",children:"Analytics"}),t.jsx("p",{className:"text-lg font-semibold",children:"View Insights"})]}),t.jsx(N,{className:"w-8 h-8 text-purple-200"})]})}),t.jsxs("div",{className:"md:col-span-2 lg:col-span-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Start"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>e(),className:"p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all group",children:[t.jsx(k,{className:"w-8 h-8 text-gray-400 group-hover:text-indigo-500 mx-auto mb-2"}),t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Blank Post"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Start from scratch"})]}),t.jsxs("button",{onClick:()=>e(X.aiInsight),className:"p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all group",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center mx-auto mb-2 group-hover:bg-blue-200 dark:group-hover:bg-blue-800/50",children:t.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold text-sm",children:"AI"})}),t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"AI Insight"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"AI trends & analysis"})]}),t.jsxs("button",{onClick:()=>e(X.blockchainAnalysis),className:"p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-purple-500 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all group",children:[t.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center mx-auto mb-2 group-hover:bg-purple-200 dark:group-hover:bg-purple-800/50",children:t.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold text-sm",children:"â‚¿"})}),t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Blockchain Analysis"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Web3 & blockchain tech"})]})]})]})]}),ee=()=>{const{isAuthenticated:n,logout:d}=e(),[c,g]=l.useState([]),[x,m]=l.useState(!1),[h,u]=l.useState(null),[p,b]=l.useState(!1),[f,j]=l.useState(!0),[v,w]=l.useState(""),[A,E]=l.useState("all"),[B,T]=l.useState("all");l.useEffect(()=>{n&&O()},[n]);const O=async()=>{try{const e=localStorage.getItem("blog-posts");if(e){const t=JSON.parse(e);g(t)}else g([...M]),localStorage.setItem("blog-posts",JSON.stringify(M))}catch(e){g([...M]),L.error("Failed to load posts")}finally{j(!1)}},R=e=>{try{localStorage.setItem("blog-posts",JSON.stringify(e)),g(e)}catch(t){L.error("Failed to save posts")}},q=e=>{const t={id:"new-"+Date.now(),slug:"",title:e?.title||"",excerpt:e?.excerpt||"",content:e?.content||"",image:e?.image||"https://images.pexels.com/photos/8386440/pexels-photo-8386440.jpeg?auto=compress&cs=tinysrgb&w=800",author_id:e?.author_id||"default-author",author:{name:"Liron Langer",avatar:"/images/Liron1.jpg"},category_id:e?.category_id||"ai",category:e?.category_id||"ai",tags:e?.tags||[],read_time:e?.read_time||"5 min read",readTime:e?.read_time||"5 min read",published:e?.published||!1,date:(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};u(t),m(!0)},$=async e=>{if(window.confirm("Are you sure you want to delete this post? This action cannot be undone."))try{await async function(e){try{const t=localStorage.getItem("blog-posts");if(!t)return;const a=JSON.parse(t).filter(t=>t.id!==e);localStorage.setItem("blog-posts",JSON.stringify(a))}catch(t){throw t}}(e);const t=c.filter(t=>t.id!==e);R(t),L.success("Post deleted successfully")}catch(t){L.error("Failed to delete post")}},U=c.filter(e=>{const t=e.title.toLowerCase().includes(v.toLowerCase())||e.excerpt.toLowerCase().includes(v.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(v.toLowerCase())),a="all"===A||"published"===A&&e.published||"draft"===A&&!e.published,s="all"===B||e.category===B;return t&&a&&s});return n?f?t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading blog posts..."})]})}):p?t.jsxs(t.Fragment,{children:[t.jsx(a,{title:"Analytics - Meta3Ventures",description:"Analytics dashboard for Meta3Ventures website performance and lead tracking."}),t.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-20",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6",children:t.jsx("div",{className:"max-w-6xl mx-auto",children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-400 dark:to-purple-400 text-transparent bg-clip-text",children:"Analytics & Insights"}),t.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Back to Blog Management"})]}),t.jsx(G,{FallbackComponent:s,children:t.jsx(Y,{})})]})})})})]}):t.jsxs(t.Fragment,{children:[t.jsx(a,{title:"Blog Management - Meta3Ventures",description:"Manage blog posts and content for Meta3Ventures website."}),t.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-20",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6",children:t.jsx("div",{className:"max-w-6xl mx-auto",children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-400 dark:to-purple-400 text-transparent bg-clip-text",children:"Blog Management"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Create, edit, and manage your blog content"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center px-4 py-2 text-indigo-600 hover:text-indigo-700 font-medium",children:[t.jsx(N,{className:"w-5 h-5 mr-2"}),"Analytics"]}),t.jsxs("button",{onClick:d,className:"inline-flex items-center px-4 py-2 text-red-600 hover:text-red-700 font-medium",children:[t.jsx(S,{className:"w-5 h-5 mr-2"}),"Logout"]})]})]}),x?t.jsx(F,{initialData:h||void 0,onSave:async e=>{try{if(h){if(h.id.startsWith("new-")){const t=await async function(e){try{const t=localStorage.getItem("blog-posts");let a=t?JSON.parse(t):[...M];const s={id:`post-${Date.now()}`,slug:e.title.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,""),title:e.title,excerpt:e.excerpt,content:e.content,image:e.image,author_id:e.author_id,author:{name:"Liron Langer",avatar:"/images/Liron1.jpg"},category_id:e.category_id,category:e.category_id,tags:e.tags,read_time:e.read_time,readTime:e.read_time,published:e.published,date:(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return a=[s,...a],localStorage.setItem("blog-posts",JSON.stringify(a)),s}catch(t){return null}}(e);if(t){const e=[t,...c];R(e),L.success("Post created successfully!")}}else{const t=await async function(e,t){try{const a=localStorage.getItem("blog-posts");if(!a)return null;const s=JSON.parse(a),r=s.findIndex(t=>t.id===e);if(-1===r)return null;const l={...s[r],...t,category:t.category_id||s[r].category,readTime:t.read_time||s[r].readTime,updated_at:(new Date).toISOString()};return s[r]=l,localStorage.setItem("blog-posts",JSON.stringify(s)),l}catch(a){return null}}(h.id,e);if(t){const e=c.map(e=>e.id===h.id?t:e);R(e),L.success("Post updated successfully!")}}}m(!1),u(null);const t=`blog-draft-${h?.id||"new"}`;localStorage.removeItem(t)}catch(t){L.error("Failed to save post")}},onCancel:()=>{m(!1),u(null)}}):t.jsxs(t.Fragment,{children:[t.jsx(Z,{onCreatePost:q,onViewAnalytics:()=>b(!0),totalPosts:c.length,publishedPosts:c.filter(e=>e.published).length,draftPosts:c.filter(e=>!e.published).length}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[t.jsxs("button",{onClick:()=>q(),className:"inline-flex items-center px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:[t.jsx(k,{className:"w-5 h-5 mr-2"}),"New Post"]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[t.jsxs("div",{className:"relative",children:[t.jsx(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:"Search posts...",value:v,onChange:e=>w(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 w-full md:w-64"})]}),t.jsxs("select",{value:A,onChange:e=>E(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"draft",children:"Draft"})]}),t.jsxs("select",{value:B,onChange:e=>T(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Categories"}),t.jsx("option",{value:"ai",children:"AI & Machine Learning"}),t.jsx("option",{value:"blockchain",children:"Blockchain"}),t.jsx("option",{value:"innovation",children:"Innovation"}),t.jsx("option",{value:"venture-capital",children:"Venture Capital"}),t.jsx("option",{value:"technology",children:"Technology"})]})]})]}),t.jsx("div",{className:"space-y-6",children:U.length>0?U.map(e=>{return t.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[t.jsx("div",{className:"lg:w-48 h-32 flex-shrink-0",children:t.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover rounded-lg",loading:"lazy",onError:t=>{const a=t.target;"ai"===e.category?a.src=r.optimizedUrls.aiFuture:"blockchain"===e.category?a.src=r.optimizedUrls.blockchain:a.src=r.optimizedUrls.ventureCapital}})}),t.jsxs("div",{className:"flex-grow",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[t.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(s=e.published,s?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-200"),children:e.published?"Published":"Draft"}),t.jsx("span",{className:"px-2 py-1 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 text-xs font-medium rounded",children:(a=e.category,{ai:"AI & Machine Learning",blockchain:"Blockchain",innovation:"Innovation","venture-capital":"Venture Capital",technology:"Technology"}[a]||a)}),t.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[t.jsx(y,{className:"w-3 h-3 mr-1"}),e.date]}),t.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[t.jsx(I,{className:"w-3 h-3 mr-1"}),e.author.name]})]}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:e.title}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-3 line-clamp-2",children:e.excerpt}),t.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.tags.slice(0,3).map((e,a)=>t.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded",children:[t.jsx(_,{className:"w-3 h-3 mr-1"}),e]},a)),e.tags.length>3&&t.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",e.tags.length-3," more"]})]})]}),t.jsxs("div",{className:"flex lg:flex-col gap-2 lg:w-auto",children:[t.jsx(i,{to:`/blog/${e.slug}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:"View Post",children:t.jsx(o,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>{u(e),m(!0)},className:"p-2 text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:"Edit Post",children:t.jsx(D,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>(e=>{const t={...e,id:"new-"+Date.now(),title:`${e.title} (Copy)`,slug:"",published:!1,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};u(t),m(!0)})(e),className:"p-2 text-gray-600 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors",title:"Duplicate Post",children:t.jsx(k,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>$(e.id),className:"p-2 text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Delete Post",children:t.jsx(P,{className:"w-5 h-5"})})]})]})},e.id);var a,s}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-gray-400 mb-4",children:t.jsx(C,{className:"w-16 h-16 mx-auto mb-4 opacity-50"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-300 mb-2",children:v||"all"!==A||"all"!==B?"No posts match your filters":"No blog posts found"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:v||"all"!==A||"all"!==B?"Try adjusting your search terms or filters.":"Create your first post to get started."}),t.jsxs("button",{onClick:()=>{v||"all"!==A||"all"!==B?(w(""),E("all"),T("all")):q()},className:"inline-flex items-center px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:[t.jsx(k,{className:"w-5 h-5 mr-2"}),v||"all"!==A||"all"!==B?"Clear Filters":"Create First Post"]})]})})]})]})})})})]}):t.jsx(V,{})};export{ee as default};
